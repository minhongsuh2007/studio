
export type Locale = 'en' | 'ko' | 'zh' | 'ja';

interface TranslationMessages {
  [key: string]: string;
}

interface Translations {
  en: TranslationMessages;
  ko: TranslationMessages;
  zh: TranslationMessages;
  ja: TranslationMessages;
}

export const translations: Translations = {
  en: {
    appTitle: 'AstroStacker',
    uploadAndConfigure: 'Upload & Configure Images',
    cardDescription: "Add your light frames (PNG, JPG, TIFF, FITS, etc.). The app will attempt to convert any file format. Images are aligned using star patterns. For best results with the 'Standard' method, manually select reference stars on the first image.",
    creditsLine1: 'AstroStacker © {year}',
    creditsLine2Part1: 'Created by Min Hong Seo (암흑광자) with invaluable help from 천관사, Saturn, 구구, Flec, Latte, 얼음세상, 뉴비, 오르트, 지민, 모닥별, 배추빙수, 응애, Kangwoo, and many others.',
    switchToEnglish: 'EN',
    switchToKorean: 'KO',
    switchToChinese: 'ZH',
    switchToJapanese: 'JA',
    stackImagesButton: 'Stack Images ({count})',
    stackingButtonInProgress: 'Stacking...',
    finalizeAndDownload: 'Finalize & Download Image',
    imageQueueCount: 'Image Queue ({count})',
    stackingMode: 'Stacking Mode',
    previewFit: 'Preview Fit',
    fitContain: 'Contain',
    fitCover: 'Cover',
    outputFormat: 'Output Format',
    jpgQuality: 'JPG Quality: {jpegQuality}%',
    editStarsFor: 'Edit Stars for: {fileName}',
    editStarsDescription: 'Click on stars to add/remove. Current: {starCount} stars. Image Dim: {width}x{height}.',
    resetToAuto: 'Reset to Auto',
    wipeAllStars: 'Clear All Stars',
    confirmAndClose: 'Confirm & Close',
    confirmAndNext: 'Confirm & Next',
    cancelEditing: 'Cancel Editing',
    processingLogs: 'Processing Logs',

    applyStarOptionsMenuTitle: 'Apply Star Selection to Others',
    applyStarOptionsMenuDesc: "You've set {starCount} stars for '{fileName}' ({width}x{height}px). How would you like to apply this selection to other images in the queue?",
    applyToMatchingDimensionsBtn: 'To {count} images with matching dimensions',
    applyProportionallyBtn: 'Proportionally to {count} images with similar aspect ratio',
    dontApplyToOthersBtn: "Don't Apply to Others",

    toastStarsAppliedMatchingDimTitle: "Stars Applied (Matching Dimensions)",
    toastStarsAppliedMatchingDimDesc: "The selected stars have been applied to other images with matching dimensions.",
    toastProportionalApplySkippedTitle: "Proportional Apply Skipped",
    toastProportionalApplySkippedDesc: "Source image '{fileName}' has no stars selected. Proportional application skipped.",
    toastProportionalApplyDoneTitle: "Stars Applied (Proportionally)",
    toastProportionalApplyDoneDesc: "Stars proportionally applied to images with matching aspect ratios.",

    downscalePrompt: "Image '{fileName}' ({width}x{height}px) is large. Downscaling it to max {maxSize}px (maintaining aspect ratio) can improve stability and speed. Downscale it?",
    stackingProgress: 'Stacking: {progressPercent}%',

    darkFramesUploadTitle: 'Dark Frames (Optional)',
    darkFramesUploadDescription: 'Upload one or more dark frames (JPG/PNG/WEBP/FITS). They will be averaged into a master dark, then subtracted from each light frame to reduce thermal noise. Ensure similar dimensions.',
    useDarkFramesLabel: 'Enable Dark Frame Subtraction',
    darkFramesPreviewTitle: 'Dark Frames Preview ({count})',
    darkFramesMissing: "Dark frame subtraction enabled, but no dark frames uploaded or they failed to load.",
    darkFramesMissingTitle: "Dark Frames Missing",
    logLoadingDarkFrames: "Loading {count} Dark Frame(s)...",
    logMasterDarkCreated: "Master Dark Frame created from {count} frames.",
    logMasterDarkFailed: "Failed to create Master Dark Frame (no valid darks processed).",
    logBiasSubtractedFromDark: "Bias (if any) subtracted from dark frame: {darkFrameName}",

    flatFramesUploadTitle: 'Flat Frames (Optional)',
    flatFramesUploadDescription: 'Upload one or more flat frames (JPG/PNG/WEBP/FITS). Averaged into a master flat, then used to correct for sensor dust, vignetting, etc. Ensure similar dimensions.',
    useFlatFramesLabel: 'Enable Flat Field Correction',
    flatFramesPreviewTitle: 'Flat Frames Preview ({count})',
    flatFramesMissing: "Flat field correction enabled, but no flat frames uploaded or they failed to load.",
    flatFramesMissingTitle: "Flat Frames Missing",
    logLoadingFlatFrames: "Loading {count} Flat Frame(s)...",
    logMasterFlatCreated: "Master Flat Frame created from {count} frames.",
    logMasterFlatFailed: "Failed to create Master Flat Frame (no valid flats processed).",
    logBiasSubtractedFromFlat: "Flat frame from which bias (if any) has been subtracted: {flatFrameName}",

    biasFramesUploadTitle: 'Bias Frames (Optional)',
    biasFramesUploadDescription: 'Upload one or more bias frames (JPG/PNG/WEBP/FITS). Averaged into a master bias, representing camera read-out noise. Subtracted from Light, Dark, and Flat frames if used. Ensure similar dimensions.',
    useBiasFramesLabel: 'Enable Bias Frame Subtraction',
    biasFramesPreviewTitle: 'Bias Frames Preview ({count})',
    biasFramesMissing: "Bias frame subtraction enabled, but no bias frames uploaded or they failed to load.",
    biasFramesMissingTitle: "Bias Frames Missing",
    logLoadingBiasFrames: "Loading {count} Bias Frame(s)...",
    logMasterBiasCreated: "Master Bias Frame created from {count} frames.",
    logMasterBiasFailed: "Failed to create Master Bias Frame (no valid biases processed).",

    logDarkFrameLoaded: "Dark frame {fileName} loaded ({width}x{height}).",
    logFlatFrameLoaded: "Flat frame {fileName} loaded ({width}x{height}).",
    logBiasFrameLoaded: "Bias frame {fileName} loaded ({width}x{height}).",

    startLearningSession: "Start Learning Session",
    stopLearningSession: "Stop Learning Session",
    learningModeActiveIndicator: "LEARNING MODE ACTIVE",
    enterPinDialogTitle: "Enter PIN to Activate Learning Mode",
    enterPinDialogDesc: "Enter the designated PIN to start a learning session. This allows you to define reference star patterns.",
    pinPlaceholder: "PIN Code",
    submitPinButton: "Submit PIN",
    incorrectPinToastTitle: "Incorrect PIN",
    incorrectPinToastDesc: "The PIN you entered is incorrect. Learning mode not activated.",
    learningModeActivatedToastTitle: "Learning Mode Activated",
    learningModeActivatedToastDesc: "You can now define star patterns by editing stars on an image and confirming. Select patterns from the list to use them for stacking or testing.",
    learningModeDeactivatedToastTitle: "Learning Mode Deactivated",
    learningModeDeactivatedToastDesc: "The current learning session has ended. Learned patterns remain stored locally.",
    starPatternFirstLearnedToastTitle: "Star Pattern Learned!",
    starPatternFirstLearnedToastDesc: "Pattern & characteristics from '{fileName}' ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. It has been added to your list and stored locally.",
    starPatternOverwrittenToastTitle: "Learned Star Pattern Updated!",
    starPatternOverwrittenToastDesc: "Existing pattern for '{fileName}' updated. New pattern & characteristics ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. Stored locally.",

    noPatternLearnedYetInfo: "No star pattern has been learned. Edit stars on an image and confirm to create one.",
    patternStoredButModeOffInfo: "{count} pattern(s) stored locally. Activate Learning Mode to use or manage them.",
    selectedPatternsTitle: "Selected Patterns for Stacking ({count})",
    avgBrightnessLabel: "Avg Brightness",
    avgContrastLabel: "Avg Contrast",
    avgFwhmLabel: "Avg FWHM",
    learningModeCardTitle: "Pattern Learning & Data Management",
    learningModeCardDescription: "Manually teach the AI star patterns for better alignment. You can also export your learned patterns to a file for backup or sharing, and import patterns from a file.",
    allLearnedPatternsListTitle: "Stored Patterns",
    selectPatternCheckboxLabel: "Select pattern from {fileName} for stacking/testing",
    deletePatternButtonText: "Delete",
    clearAllLearnedPatternsButton: "Clear ALL Learned Patterns",
    patternDeletedToastTitle: "Pattern Deleted",
    patternDeletedToastDesc: "Pattern from '{fileName}' has been deleted.",
    allPatternsClearedToastTitle: "All Patterns Cleared",
    allPatternsClearedToastDesc: "All learned star patterns have been removed from local storage.",
    noActivePatternSelectedInfo: "No patterns are currently selected. Check boxes in the list below to select patterns for alignment guidance or for testing.",
    learnedDateLabel: "Learned: {date}",

    learnTestCardTitle: "Learn Test Module",
    learnTestCardDescription: "Upload an image here to see which stars are recognized based on the trained AI model.",
    uploadTestImageButton: "Upload Test Image",
    runPatternTestButton: "Run Pattern Test",
    analyzingTestImageProgress: "Analyzing test image with AI model...",
    noActivePatternForTestToastTitle: "No Pattern Selected for Test",
    noActivePatternForTestToastDesc: "Please select exactly one learned pattern from the list above to run a test.",
    learnTestSelectSinglePatternTitle: "Select One Pattern for Test",
    learnTestSelectSinglePatternDesc: "'저장된 패턴' 목록에서 이 테스트에 사용할 패턴을 정확히 하나 선택해주세요.",
    noTestImageToastTitle: "No Test Image",
    noTestImageToastDesc: "Please upload an image to test the learned pattern on.",
    testAnalysisCompleteToastTitle: "Learn Test Complete",
    testAnalysisCompleteToastDesc: "{count} stars on '{fileName}' matched the selected learned pattern.",
    testAnalysisNoStarsFoundToastDesc: "No stars on '{fileName}' matched the selected learned pattern well enough.",
    testImagePreviewTitle: "Test Image: {fileName}",
    recognizedStarsCount: "{count} stars recognized by pattern",

    tutorialButton: "Tutorial",
    tutorialTitle: "How to Use AstroStacker",
    tutorialStep1Title: "Step 1: Upload Images",
    tutorialStep1Content: "Click 'Drag & drop images here' or drop your astrophotography files into the box. Common formats (JPG, PNG) and many RAW formats (TIF, FITS, etc.) are supported thanks to ImageMagick. After uploading, the app automatically analyzes each image to detect stars.",
    tutorialStep2Title: "Step 2: Choose Alignment Method",
    tutorialStep2Content: "On the left panel, select your 'Alignment Method'.\n\n- Standard (2-Star): This classic method uses the two brightest stars in your first (REF) image to align all others. It's fast and simple. For best results, you can click 'Select Stars' on the reference image to manually pick the two alignment stars.\n\n- AI Pattern: This powerful method uses a machine learning model to find the best stars for alignment. To use it, you must first teach the AI.",
    tutorialStep3Title: "Step 3: (AI Method) Teach the AI",
    tutorialStep3Content: "To use the 'AI Pattern' method, you first need to create training data and train a model.\n1. On any analyzed image, click 'Select Stars'.\n2. In the main preview, click on at least 20-30 distinct, clear stars. You can do this across multiple images by confirming the selection for each.\n3. Click 'Confirm & Learn Pattern'. This saves the characteristics of your selected stars.\n4. In the 'Pattern Learning' card, check the patterns you want to use for training.\n5. Click 'Train AI Model'. This trains a model directly in your browser. Once trained, the model is ready and is automatically saved for future sessions.",
    tutorialStep4Title: "Step 4: Configure and Stack",
    tutorialStep4Content: "Below the alignment method, you can configure the 'Stacking Mode' (Average, Median, Sigma Clip) which determines how pixel values are combined. When you're ready, click the main 'Stack Images' button. The app will align each image and then combine them, showing progress.",
    tutorialStep5Title: "Step 5: Post-Process and Download",
    tutorialStep5Content: "After stacking is complete, the final image will appear. Click 'Finalize & Download Image' to open the post-processing editor. Here, you can adjust Brightness, Exposure, and Saturation to enhance your image. When you are satisfied, click the 'Download Image' button to save the result to your computer.",

    exportPatternsButton: "Export Patterns",
    importPatternsButton: "Import Patterns",
    importPatternsDropzone: "Drop pattern file here",
    noPatternsToExport: "No learned patterns to export.",
    patternsImportedSuccess: "Import successful. Added {new} new patterns and updated {updated} existing ones.",
    patternImportFailed: "Pattern import failed",
    trainModelButton: "Train AI Model",
    trainingModelButton: "Training Model..."
  },
  ko: {
    appTitle: '별하늘',
    uploadAndConfigure: '이미지 업로드 및 설정',
    cardDescription: "라이트 프레임(PNG, JPG, TIFF, FITS 등)을 추가하세요. 앱이 모든 파일 형식 변환을 시도합니다. 이미지는 별 패턴을 사용하여 정렬됩니다. '표준' 방식으로 최상의 결과를 얻으려면 첫 번째 이미지에서 참조 별을 수동으로 선택하세요.",
    creditsLine1: '아스트로스태커 © {year}',
    creditsLine2Part1: '천관사님, 새턴님, 구구님, Flec님, 라떼님, 얼음세상님, 늅님, 오르트님, 지민님, 모닥별님, 배추빙수님, 응애님, Kangwoo님 그리고 다른 여러 분들의 도움으로 서민홍(암흑광자) 에 의해 제작되었습니다.',
    switchToEnglish: '영',
    switchToKorean: '한',
    switchToChinese: '중',
    switchToJapanese: '일',
    stackImagesButton: '이미지 스태킹 ({count}개)',
    stackingButtonInProgress: '스태킹 중...',
    finalizeAndDownload: '이미지 확정 및 다운로드',
    imageQueueCount: '이미지 대기열 ({count}개)',
    stackingMode: '스태킹 모드',
    previewFit: '미리보기 맞춤',
    fitContain: '포함',
    fitCover: '채우기',
    outputFormat: '출력 형식',
    jpgQuality: 'JPG 품질: {jpegQuality}%',
    editStarsFor: '별 편집: {fileName}',
    editStarsDescription: '별을 클릭하여 추가/제거하세요. 현재: 별 {starCount}개. 이미지 크기: {width}x{height}.',
    resetToAuto: '자동으로 재설정',
    wipeAllStars: '모든 별 지우기',
    confirmAndClose: '확인 및 닫기',
    confirmAndNext: '확인 및 다음',
    cancelEditing: '편집 취소',
    processingLogs: '처리 로그',

    applyStarOptionsMenuTitle: '다른 이미지에 별 선택 적용',
    applyStarOptionsMenuDesc: "'{fileName}'({width}x{height}px)에 대해 {starCount}개의 별을 설정했습니다. 이 선택을 대기열의 다른 이미지에 어떻게 적용하시겠습니까?",
    applyToMatchingDimensionsBtn: '동일 크기 이미지 {count}개에 적용',
    applyProportionallyBtn: '유사 종횡비 이미지 {count}개에 비례 적용',
    dontApplyToOthersBtn: '다른 이미지에 적용 안 함',

    toastStarsAppliedMatchingDimTitle: "별 적용됨 (동일 크기)",
    toastStarsAppliedMatchingDimDesc: "선택한 별들이 동일한 크기의 다른 이미지들에 적용되었습니다.",
    toastProportionalApplySkippedTitle: "비례 적용 건너뜀",
    toastProportionalApplySkippedDesc: "원본 이미지 '{fileName}'에 선택된 별이 없습니다. 비례 적용을 건너뛰었습니다.",
    toastProportionalApplyDoneTitle: "별 적용됨 (비례)",
    toastProportionalApplyDoneDesc: "별들이 유사한 종횡비의 다른 이미지들에 비례하여 적용되었습니다.",

    downscalePrompt: "이미지 '{fileName}' ({width}x{height}px)이(가) 큽니다. 최대 크기를 {maxSize}px로 축소(종횡비 유지)하면 안정성과 처리 속도를 향상시킬 수 있습니다. 축소하시겠습니까?",
    stackingProgress: '스태킹 진행률: {progressPercent}%',

    darkFramesUploadTitle: '다크 프레임 (선택 사항)',
    darkFramesUploadDescription: '하나 이상의 다크 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 다크를 만들고, 각 라이트 프레임에서 빼서 열 노이즈를 줄입니다. 비슷한 크기를 사용하세요.',
    useDarkFramesLabel: '다크 프레임 빼기 활성화',
    darkFramesPreviewTitle: '다크 프레임 미리보기 ({count}개)',
    darkFramesMissing: "다크 프레임 빼기가 활성화되었지만, 다크 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    darkFramesMissingTitle: "다크 프레임 없음",
    logLoadingDarkFrames: "{count}개의 다크 프레임 로드 중...",
    logMasterDarkCreated: "{count}개의 프레임으로 마스터 다크 프레임 생성됨.",
    logMasterDarkFailed: "마스터 다크 프레임 생성 실패 (유효한 다크 없음).",
    logBiasSubtractedFromDark: "다크 프레임에서 바이어스(있을 경우) 차감: {darkFrameName}",

    flatFramesUploadTitle: '플랫 프레임 (선택 사항)',
    flatFramesUploadDescription: '하나 이상의 플랫 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 플랫을 만들고, 센서 먼지, 비네팅 등을 보정합니다. 비슷한 크기를 사용하세요.',
    useFlatFramesLabel: '플랫 필드 보정 활성화',
    flatFramesPreviewTitle: '플랫 프레임 미리보기 ({count}개)',
    flatFramesMissing: "플랫 필드 보정이 활성화되었지만, 플랫 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    flatFramesMissingTitle: "플랫 프레임 없음",
    logLoadingFlatFrames: "{count}개의 플랫 프레임 로드 중...",
    logMasterFlatCreated: "{count}개의 프레임으로 마스터 플랫 프레임 생성됨.",
    logMasterFlatFailed: "마스터 플랫 프레임 생성 실패 (유효한 플랫 없음).",
    logBiasSubtractedFromFlat: "플랫 프레임에서 바이어스(있을 경우) 차감: {flatFrameName}",

    biasFramesUploadTitle: '바이어스 프레임 (선택 사항)',
    biasFramesUploadDescription: '하나 이상의 바이어스 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 바이어스를 만들고, 카메라 읽기 노이즈를 나타냅니다. 사용 시 라이트, 다크, 플랫 프레임에서 차감됩니다. 비슷한 크기를 사용하세요.',
    useBiasFramesLabel: '바이어스 프레임 빼기 활성화',
    biasFramesPreviewTitle: '바이어스 프레임 미리보기 ({count}개)',
    biasFramesMissing: "바이어스 프레임 빼기가 활성화되었지만, 바이어스 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    biasFramesMissingTitle: "바이어스 프레임 없음",
    logLoadingBiasFrames: "{count}개의 바이어스 프레임 로드 중...",
    logMasterBiasCreated: "{count}개의 프레임으로 마스터 바이어스 프레임 생성됨.",
    logMasterBiasFailed: "마스터 바이어스 프레임 생성 실패 (유효한 바이어스 없음).",

    logDarkFrameLoaded: "다크 프레임 {fileName} 로드됨 ({width}x{height}).",
    logFlatFrameLoaded: "플랫 프레임 {fileName} 로드됨 ({width}x{height}).",
    logBiasFrameLoaded: "바이어스 프레임 {fileName} 로드됨 ({width}x{height}).",

    startLearningSession: "학습 세션 시작",
    stopLearningSession: "학습 세션 중지",
    learningModeActiveIndicator: "학습 모드 활성",
    enterPinDialogTitle: "학습 모드를 활성화하려면 PIN을 입력하세요",
    enterPinDialogDesc: "지정된 PIN을 입력하여 학습 세션을 시작하세요. 이를 통해 참조 별 패턴을 정의할 수 있습니다.",
    pinPlaceholder: "PIN 코드",
    submitPinButton: "PIN 제출",
    incorrectPinToastTitle: "잘못된 PIN",
    incorrectPinToastDesc: "입력한 PIN이 잘못되었습니다. 학습 모드가 활성화되지 않았습니다.",
    learningModeActivatedToastTitle: "학습 모드 활성화됨",
    learningModeActivatedToastDesc: "이제 이미지에서 별을 편집하고 확인하여 별 패턴을 정의할 수 있습니다. 목록에서 패턴을 선택하여 스태킹 또는 테스트에 사용하세요.",
    learningModeDeactivatedToastTitle: "학습 모드 비활성화됨",
    learningModeDeactivatedToastDesc: "현재 학습 세션이 종료되었습니다. 학습된 패턴은 로컬에 저장된 상태로 유지됩니다.",
    starPatternFirstLearnedToastTitle: "별 패턴 학습됨!",
    starPatternFirstLearnedToastDesc: "'{fileName}'의 패턴 및 특성({starCount}개 별, 평균밝기: {avgBrightness}, 평균대비: {avgContrast}, 평균FWHM: {avgFwhm})이 캡처되었습니다. 목록에 추가되었고 로컬에 저장되었습니다.",
    starPatternOverwrittenToastTitle: "학습된 별 패턴 업데이트됨!",
    starPatternOverwrittenToastDesc: "'{fileName}'의 기존 패턴이 업데이트되었습니다. 새로운 패턴 및 특성({starCount}개 별, 평균밝기: {avgBrightness}, 평균대비: {avgContrast}, 평균FWHM: {avgFwhm})이 캡처되었습니다. 로컬에 저장되었습니다.",

    noPatternLearnedYetInfo: "아직 학습된 별 패턴이 없습니다. 이미지에서 별을 편집하고 확인하여 패턴을 만드세요.",
    patternStoredButModeOffInfo: "{count}개의 패턴이 로컬에 저장되어 있습니다. 학습 모드를 활성화하여 사용하거나 관리하세요.",
    selectedPatternsTitle: "스태킹을 위해 선택된 패턴 ({count})",
    avgBrightnessLabel: "평균 밝기",
    avgContrastLabel: "평균 대비",
    avgFwhmLabel: "평균 FWHM",
    learningModeCardTitle: "패턴 학습 및 데이터 관리",
    learningModeCardDescription: "수동으로 AI에게 별 패턴을 학습시켜 정렬을 개선합니다. 학습된 패턴을 파일로 내보내 백업하거나 공유하고, 파일에서 패턴을 가져올 수도 있습니다.",
    allLearnedPatternsListTitle: "저장된 패턴",
    selectPatternCheckboxLabel: "스태킹/테스트를 위해 {fileName}에서 패턴 선택",
    deletePatternButtonText: "삭제",
    clearAllLearnedPatternsButton: "모든 학습된 패턴 지우기",
    patternDeletedToastTitle: "패턴 삭제됨",
    patternDeletedToastDesc: "'{fileName}'의 패턴이 삭제되었습니다.",
    allPatternsClearedToastTitle: "모든 패턴 지워짐",
    allPatternsClearedToastDesc: "모든 학습된 별 패턴이 로컬 저장소에서 제거되었습니다.",
    noActivePatternSelectedInfo: "현재 선택된 패턴이 없습니다. 아래 목록에서 체크박스를 선택하여 정렬 안내 또는 테스트를 위한 패턴을 선택하세요.",
    learnedDateLabel: "학습일: {date}",

    learnTestCardTitle: "학습 테스트 모듈",
    learnTestCardDescription: "훈련된 AI 모델을 기반으로 어떤 별이 인식되는지 보려면 여기에 이미지를 업로드하세요.",
    uploadTestImageButton: "테스트 이미지 업로드",
    runPatternTestButton: "패턴 테스트 실행",
    analyzingTestImageProgress: "AI 모델로 테스트 이미지 분석 중...",
    noActivePatternForTestToastTitle: "테스트를 위해 선택된 패턴 없음",
    noActivePatternForTestToastDesc: "테스트를 실행하려면 위 목록에서 학습된 패턴을 정확히 하나 선택하세요.",
    learnTestSelectSinglePatternTitle: "테스트를 위해 하나의 패턴 선택",
    learnTestSelectSinglePatternDesc: "'저장된 패턴' 목록에서 이 테스트에 사용할 패턴을 정확히 하나 선택해주세요.",
    noTestImageToastTitle: "테스트 이미지 없음",
    noTestImageToastDesc: "학습된 패턴을 테스트할 이미지를 업로드하세요.",
    testAnalysisCompleteToastTitle: "학습 테스트 완료",
    testAnalysisCompleteToastDesc: "'{fileName}'의 {count}개 별이 선택된 학습된 패턴과 일치했습니다.",
    testAnalysisNoStarsFoundToastDesc: "'{fileName}'의 별이 선택된 학습된 패턴과 충분히 일치하지 않았습니다.",
    testImagePreviewTitle: "테스트 이미지: {fileName}",
    recognizedStarsCount: "패턴에 의해 인식된 {count}개의 별",

    tutorialButton: "사용법",
    tutorialTitle: "AstroStacker 사용 방법",
    tutorialStep1Title: "1단계: 이미지 업로드",
    tutorialStep1Content: "'여기에 이미지 끌어다 놓기'를 클릭하거나 천체 사진 파일(JPG, PNG 등 일반 형식 및 TIF, FITS 등 다양한 RAW 형식 지원)을 상자로 끌어다 놓습니다. ImageMagick 덕분에 다양한 형식이 지원됩니다. 업로드 후 앱은 각 이미지를 자동으로 분석하여 별을 감지합니다.",
    tutorialStep2Title: "2단계: 정렬 방법 선택",
    tutorialStep2Content: "왼쪽 패널에서 '정렬 방법'을 선택합니다.\n\n- 표준 (2-Star): 이 고전적인 방법은 첫 번째(REF) 이미지에서 가장 밝은 두 별을 사용하여 다른 모든 이미지를 정렬합니다. 빠르고 간단합니다. 최상의 결과를 얻으려면 참조 이미지에서 '별 선택'을 클릭하여 두 개의 정렬 별을 수동으로 선택할 수 있습니다.\n\n- AI 패턴: 이 강력한 방법은 머신러닝 모델을 사용하여 정렬에 가장 적합한 별을 찾습니다. 이를 사용하려면 먼저 AI를 학습시켜야 합니다.",
    tutorialStep3Title: "3단계: (AI 방법) AI 학습시키기",
    tutorialStep3Content: "'AI 패턴' 방법을 사용하려면 먼저 학습 데이터를 만들고 모델을 훈련해야 합니다.\n1. 분석된 이미지에서 '별 선택'을 클릭합니다.\n2. 메인 미리보기에서 최소 20-30개의 뚜렷하고 선명한 별을 클릭합니다. 각 이미지에 대해 선택을 확인하여 여러 이미지에 걸쳐 이 작업을 수행할 수 있습니다.\n3. '확인 및 패턴 학습'을 클릭합니다. 이렇게 하면 선택한 별의 특성이 저장됩니다.\n4. '패턴 학습' 카드에서 훈련에 사용할 패턴을 선택합니다.\n5. 'AI 모델 훈련'을 클릭합니다. 이렇게 하면 브라우저에서 직접 모델이 훈련됩니다. 훈련이 완료되면 모델을 사용할 준비가 된 것이며, 향후 세션을 위해 자동으로 저장됩니다.",
    tutorialStep4Title: "4단계: 설정 및 스태킹",
    tutorialStep4Content: "정렬 방법 아래에서 픽셀 값을 결합하는 방법을 결정하는 '스태킹 모드'(평균, 중앙값, 시그마 클립)를 구성할 수 있습니다. 준비가 되면 메인 '이미지 스태킹' 버튼을 클릭합니다. 앱이 각 이미지를 정렬한 다음 결합하며 진행 상황을 보여줍니다.",
    tutorialStep5Title: "5단계: 후처리 및 다운로드",
    tutorialStep5Content: "스태킹이 완료되면 최종 이미지가 나타납니다. '이미지 확정 및 다운로드'를 클릭하여 후처리 편집기를 엽니다. 여기에서 밝기, 노출 및 채도를 조정하여 이미지를 향상시킬 수 있습니다. 만족스러우면 '이미지 다운로드' 버튼을 클릭하여 결과를 컴퓨터에 저장하십시오。",
    
    exportPatternsButton: "학습 데이터 저장",
    importPatternsButton: "학습 데이터 불러오기",
    importPatternsDropzone: "여기에 패턴 파일(.json)을 드롭하세요",
    noPatternsToExport: "내보낼 학습된 패턴이 없습니다.",
    patternsImportedSuccess: "가져오기 성공. {new}개의 새 패턴 추가, {updated}개의 기존 패턴 업데이트.",
    patternImportFailed: "패턴 가져오기 실패",
    trainModelButton: "AI 모델 훈련",
    trainingModelButton: "모델 훈련 중..."
  },
  zh: {
    appTitle: '天文图像叠加器 (AstroStacker)',
    uploadAndConfigure: '上传和配置图像',
    cardDescription: "添加您的亮场（PNG、JPG、TIFF、FITS等）。应用程序将尝试转换任何文件格式。图像使用星点模式对齐。为使用“标准”方法获得最佳效果，请在第一张图像上手动选择参考星点。",
    creditsLine1: '天文图像叠加器 © {year}',
    creditsLine2Part1: '由 Min Hong Seo (암흑광자) 在 천관사, Saturn, 구구, Flec, Latte, 얼음세상, 뉴비, 오르트, 지민, 모닥별, 배추빙수, 응애, Kangwoo 及许多其他人的宝贵帮助下创建。',
    switchToEnglish: '英',
    switchToKorean: '韩',
    switchToChinese: '中',
    switchToJapanese: '日',
    stackImagesButton: '叠加图像 ({count})',
    stackingButtonInProgress: '叠加中...',
    finalizeAndDownload: '完成并下载图像',
    imageQueueCount: '图像队列 ({count})',
    stackingMode: '叠加模式',
    previewFit: '预览适应',
    fitContain: '适应内容',
    fitCover: '充满容器',
    outputFormat: '输出格式',
    jpgQuality: 'JPG 质量: {jpegQuality}%',
    editStarsFor: '编辑星点: {fileName}',
    editStarsDescription: '点击星点以添加/删除。当前: {starCount} 颗星。图像尺寸: {width}x{height}。',
    resetToAuto: '重置为自动',
    wipeAllStars: '清除所有星点',
    confirmAndClose: '确认并关闭',
    confirmAndNext: '确认并下一个',
    cancelEditing: '取消编辑',
    processingLogs: '处理日志',

    applyStarOptionsMenuTitle: '将星点选择应用于其他图像',
    applyStarOptionsMenuDesc: "您已为“{fileName}”({width}x{height}px) 设置了 {starCount} 颗星点。您希望如何将此选择应用于队列中的其他图像？",
    applyToMatchingDimensionsBtn: '应用于 {count} 张尺寸相同的图像',
    applyProportionallyBtn: '按比例应用于 {count} 张长宽比相似的图像',
    dontApplyToOthersBtn: '不应用于其他图像',

    toastStarsAppliedMatchingDimTitle: "星点已应用 (匹配尺寸)",
    toastStarsAppliedMatchingDimDesc: "所选星点已应用于其他具有匹配尺寸的图像。",
    toastProportionalApplySkippedTitle: "按比例应用已跳过",
    toastProportionalApplySkippedDesc: "源图像“{fileName}”未选择任何星点。按比例应用已跳过。",
    toastProportionalApplyDoneTitle: "星点已应用 (按比例)",
    toastProportionalApplyDoneDesc: "星点已按比例应用于具有相似长宽比的其他图像。",

    downscalePrompt: "图像 '{fileName}' ({width}x{height}px) 尺寸较大。将其缩小至最大 {maxSize}px (保持纵横比) 可以提高稳定性和速度。是否缩小？",
    stackingProgress: '叠加进度: {progressPercent}%',

    darkFramesUploadTitle: '暗场 (可选)',
    darkFramesUploadDescription: '上传一个或多个暗场文件 (JPG/PNG/WEBP/FITS)。它们将被平均为母版暗场，然后从每个亮场中减去以减少热噪声。确保尺寸相似。',
    useDarkFramesLabel: '启用暗场扣除',
    darkFramesPreviewTitle: '暗场预览 ({count})',
    darkFramesMissing: "已启用暗场扣除，但未上传暗场或加载失败。",
    darkFramesMissingTitle: "暗场缺失",
    logLoadingDarkFrames: "正在加载 {count} 个暗场...",
    logMasterDarkCreated: "已从 {count} 个帧创建母版暗场。",
    logMasterDarkFailed: "未能创建母版暗场 (未处理有效暗场)。",
    logBiasSubtractedFromDark: "已从暗场中减去偏置场 (如有): {darkFrameName}",

    flatFramesUploadTitle: '平场 (可选)',
    flatFramesUploadDescription: '上传一个或多个平场文件 (JPG/PNG/WEBP/FITS)。平均为母版平场，然后用于校正传感器灰尘、渐晕等。确保尺寸相似。',
    useFlatFramesLabel: '启用平场校正',
    flatFramesPreviewTitle: '平场预览 ({count})',
    flatFramesMissing: "已启用平场校正，但未上传平场或加载失败。",
    flatFramesMissingTitle: "平场缺失",
    logLoadingFlatFrames: "正在加载 {count} 个平场...",
    logMasterFlatCreated: "已从 {count} 个帧创建母版平场。",
    logMasterFlatFailed: "未能创建母版平场 (未处理有效平场)。",
    logBiasSubtractedFromFlat: "已从平场中减去偏置场 (如有): {flatFrameName}",

    biasFramesUploadTitle: '偏置场 (可选)',
    biasFramesUploadDescription: '上传一个或多个偏置场文件 (JPG/PNG/WEBP/FITS)。平均为母版偏置场，代表相机读出噪声。如果使用，将从亮场、暗场和平场中减去。确保尺寸相似。',
    useBiasFramesLabel: '启用偏置场扣除',
    biasFramesPreviewTitle: '偏置场预览 ({count})',
    biasFramesMissing: "已启用偏置场扣除，但未上传偏置场或加载失败。",
    biasFramesMissingTitle: "偏置场缺失",
    logLoadingBiasFrames: "正在加载 {count} 个偏置场...",
    logMasterBiasCreated: "已从 {count} 个帧创建母版偏置场。",
    logMasterBiasFailed: "未能创建母版偏置场 (未处理有效偏置场)。",

    logDarkFrameLoaded: "暗场 {fileName} 已加载 ({width}x{height})。",
    logFlatFrameLoaded: "平场 {fileName} 已加载 ({width}x{height})。",
    logBiasFrameLoaded: "偏置场 {fileName} 已加载 ({width}x{height})。",

    startLearningSession: "开始学习会话",
    stopLearningSession: "停止学习会话",
    learningModeActiveIndicator: "学习模式已激活",
    enterPinDialogTitle: "输入PIN以激活学习模式",
    enterPinDialogDesc: "输入指定的PIN以开始学习会话。这允许您定义参考星点模式。",
    pinPlaceholder: "PIN码",
    submitPinButton: "提交PIN",
    incorrectPinToastTitle: "PIN不正确",
    incorrectPinToastDesc: "您输入的PIN不正确。学习模式未激活。",
    learningModeActivatedToastTitle: "学习模式已激活",
    learningModeActivatedToastDesc: "您现在可以通过在图像上编辑星点并确认来定义星点模式。从列表中选择模式以用于叠加或测试。",
    learningModeDeactivatedToastTitle: "学习模式已停用",
    learningModeDeactivatedToastDesc: "当前学习会话已结束。学习的模式仍存储在本地。",
    starPatternFirstLearnedToastTitle: "已学习星点模式！",
    starPatternFirstLearnedToastDesc: "已捕获来自“{fileName}”的模式和特征（{starCount}颗星；平均亮度：{avgBrightness}，平均对比度：{avgContrast}，平均半峰全宽：{avgFwhm}）。它已添加到您的列表并存储在本地。",
    starPatternOverwrittenToastTitle: "已更新学习的星点模式！",
    starPatternOverwrittenToastDesc: "已更新“{fileName}”的现有模式。已捕获新的模式和特征（{starCount}颗星；平均亮度：{avgBrightness}，平均对比度：{avgContrast}，平均半峰全宽：{avgFwhm}）。存储在本地。",

    noPatternLearnedYetInfo: "尚未学习任何星点模式。在图像上编辑星点并确认以创建一个。",
    patternStoredButModeOffInfo: "本地存储了{count}个模式。激活学习模式以使用或管理它们。",
    selectedPatternsTitle: "为叠加选择的模式 ({count})",
    avgBrightnessLabel: "平均亮度",
    avgContrastLabel: "平均对比度",
    avgFwhmLabel: "平均半峰全宽",
    learningModeCardTitle: "模式学习和数据管理",
    learningModeCardDescription: "手动教导AI星点模式以改善对齐。您还可以将学习的模式导出到文件进行备份或共享，并从文件导入模式。",
    allLearnedPatternsListTitle: "存储的模式",
    selectPatternCheckboxLabel: "从{fileName}选择用于叠加/测试的模式",
    deletePatternButtonText: "删除",
    clearAllLearnedPatternsButton: "清除所有学习的模式",
    patternDeletedToastTitle: "模式已删除",
    patternDeletedToastDesc: "来自“{fileName}”的模式已被删除。",
    allPatternsClearedToastTitle: "所有模式已清除",
    allPatternsClearedToastDesc: "所有学习的星点模式已从本地存储中删除。",
    noActivePatternSelectedInfo: "当前未选择任何模式。在下面的列表中勾选复选框以选择用于对齐指导或测试的模式。",
    learnedDateLabel: "学习日期：{date}",

    learnTestCardTitle: "学习测试模块",
    learnTestCardDescription: "在此处上传图像，以根据训练好的AI模型查看哪些星点被识别。",
    uploadTestImageButton: "上传测试图像",
    runPatternTestButton: "运行模式测试",
    analyzingTestImageProgress: "正在使用AI模型分析测试图像...",
    noActivePatternForTestToastTitle: "未选择用于测试的模式",
    noActivePatternForTestToastDesc: "请从上面的列表中选择一个学习的模式以进行测试。",
    learnTestSelectSinglePatternTitle: "为测试选择一个模式",
    learnTestSelectSinglePatternDesc: "请从“存储的模式”列表中为此测试选择一个模式。",
    noTestImageToastTitle: "无测试图像",
    noTestImageToastDesc: "请上传图像以测试学习的模式。",
    testAnalysisCompleteToastTitle: "学习测试完成",
    testAnalysisCompleteToastDesc: "“{fileName}”上的{count}颗星与选定的学习模式匹配。",
    testAnalysisNoStarsFoundToastDesc: "“{fileName}”上没有足够匹配选定学习模式的星点。",
    testImagePreviewTitle: "测试图像：{fileName}",
    recognizedStarsCount: "模式识别出{count}颗星",

    tutorialButton: "教程",
    tutorialTitle: "如何使用天文图像叠加器",
    tutorialStep1Title: "第一步：上传图像",
    tutorialStep1Content: "单击“在此处拖放图像”或将您的天文摄影文件拖放到框中。支持常见格式（JPG、PNG）和许多RAW格式（TIF、FITS等），这要归功于ImageMagick。上传后，应用程序会自动分析每个图像以检测星点。",
    tutorialStep2Title: "第二步：选择对齐方法",
    tutorialStep2Content: "在左侧面板上，选择您的“对齐方法”。\n\n- 标准（2星）：这种经典方法使用您的第一张（REF）图像中最亮的两颗星来对齐所有其他图像。它快速而简单。为获得最佳效果，您可以单击参考图像上的“选择星点”以手动选择两个对齐星点。\n\n- AI模式：这种强大的方法使用机器学习模型来找到最佳的对齐星点。要使用它，您必须首先教导AI。",
    tutorialStep3Title: "第三步：（AI方法）教导AI",
    tutorialStep3Content: "要使用“AI模式”方法，您首先需要创建训练数据并训练模型。\n1. 在任何已分析的图像上，单击“选择星点”。\n2. 在主预览中，单击至少20-30个不同、清晰的星点。您可以通过确认为每个图像的选择来跨多个图像执行此操作。\n3. 单击“确认并学习模式”。这将保存您选择的星点的特征。\n4. 在“模式学习”卡中，选中您要用于训练的模式。\n5. 单击“训练AI模型”。这会在您的浏览器中直接训练一个模型。训练后，模型即可使用，并会自动保存以供将来会话使用。",
    tutorialStep4Title: "第四步：配置和叠加",
    tutorialStep4Content: "在对齐方法下方，您可以配置“叠加模式”（平均、中位数、西格玛裁剪），它决定了像素值的组合方式。准备好后，单击主“叠加图像”按钮。应用程序将对齐每个图像，然后将它们组合起来，并显示进度。",
    tutorialStep5Title: "第五步：后期处理和下载",
    tutorialStep5Content: "叠加完成后，将显示最终图像。单击“完成并下载图像”以打开后期处理编辑器。在这里，您可以调整亮度、曝光和饱和度以增强图像。满意后，单击“下载图像”按钮将结果保存到您的计算机。",
    exportPatternsButton: "导出模式",
    importPatternsButton: "导入模式",
    importPatternsDropzone: "在此处放置模式文件",
    noPatternsToExport: "没有可导出的学习模式。",
    patternsImportedSuccess: "导入成功。已添加 {new} 个新模式并更新 {updated} 个现有模式。",
    patternImportFailed: "模式导入失败",
    trainModelButton: "训练AI模型",
    trainingModelButton: "正在训练模型..."
  },
  ja: {
    appTitle: 'アストロスタッカー',
    uploadAndConfigure: '画像のアップロードと設定',
    cardDescription: 'ライトフレーム（PNG、JPG、TIFF、FITSなど）を追加します。アプリはあらゆるファイル形式の変換を試みます。画像は星のパターンを使用して整列されます。「標準」方式で最良の結果を得るには、最初の画像で参照星を手動で選択してください。',
    creditsLine1: 'アストロスタッカー © {year}',
    creditsLine2Part1: 'Min Hong Seo (암흑광자) によって作成され、천관사, Saturn, 구구, Flec, Latte, 얼음세상, 뉴비, 오르트, 지민, 모닥별, 배추빙수, 응애, Kangwoo、その他多くの貴重な助けを借りました。',
    switchToEnglish: 'EN',
    switchToKorean: 'KO',
    switchToChinese: 'ZH',
    switchToJapanese: 'JA',
    stackImagesButton: '画像をスタック ({count})',
    stackingButtonInProgress: 'スタック中...',
    finalizeAndDownload: '画像を最終処理してダウンロード',
    imageQueueCount: '画像キュー ({count})',
    stackingMode: 'スタックモード',
    previewFit: 'プレビューフィット',
    fitContain: '内接',
    fitCover: 'カバー',
    outputFormat: '出力形式',
    jpgQuality: 'JPG品質: {jpegQuality}%',
    editStarsFor: '星を編集: {fileName}',
    editStarsDescription: '星をクリックして追加/削除します。現在: {starCount}個の星。画像サイズ: {width}x{height}。',
    resetToAuto: '自動にリセット',
    wipeAllStars: 'すべての星を消去',
    confirmAndClose: '確認して閉じる',
    confirmAndNext: '確認して次へ',
    cancelEditing: '編集をキャンセル',
    processingLogs: '処理ログ',
    applyStarOptionsMenuTitle: '星の選択を他の画像に適用',
    applyStarOptionsMenuDesc: "'{fileName}' ({width}x{height}px) に {starCount} 個の星を設定しました。この選択をキュー内の他の画像にどのように適用しますか？",
    applyToMatchingDimensionsBtn: '一致する寸法の {count} 画像に適用',
    applyProportionallyBtn: '同様のアスペクト比の {count} 画像に比例して適用',
    dontApplyToOthersBtn: '他の画像には適用しない',
    toastStarsAppliedMatchingDimTitle: "星が適用されました（一致する寸法）",
    toastStarsAppliedMatchingDimDesc: "選択した星は、一致する寸法の他の画像に適用されました。",
    toastProportionalApplySkippedTitle: "比例適用がスキップされました",
    toastProportionalApplySkippedDesc: "ソース画像 '{fileName}' には星が選択されていません。比例適用はスキップされました。",
    toastProportionalApplyDoneTitle: "星が適用されました（比例的に）",
    toastProportionalApplyDoneDesc: "星は、一致するアスペクト比の画像に比例して適用されました。",
    downscalePrompt: "画像 '{fileName}' ({width}x{height}px) は大きいです。最大 {maxSize}px にダウンスケールすると（アスペクト比を維持）、安定性と速度が向上します。ダウンスケールしますか？",
    stackingProgress: 'スタック中: {progressPercent}%',
    darkFramesUploadTitle: 'ダークフレーム（オプション）',
    darkFramesUploadDescription: '1つ以上のダークフレーム（JPG/PNG/WEBP/FITS）をアップロードします。これらは平均化されてマスターダークになり、各ライトフレームから減算されて熱ノイズを低減します。同様の寸法であることを確認してください。',
    useDarkFramesLabel: 'ダークフレーム減算を有効にする',
    darkFramesPreviewTitle: 'ダークフレームプレビュー ({count})',
    darkFramesMissing: "ダークフレーム減算が有効になっていますが、ダークフレームがアップロードされていないか、読み込みに失敗しました。",
    darkFramesMissingTitle: "ダークフレームがありません",
    logLoadingDarkFrames: "{count}個のダークフレームを読み込み中...",
    logMasterDarkCreated: "{count}個のフレームからマスターダークフレームが作成されました。",
    logMasterDarkFailed: "マスターダークフレームの作成に失敗しました（有効なダークが処理されませんでした）。",
    logBiasSubtractedFromDark: "ダークフレームからバイアス（もしあれば）が減算されました: {darkFrameName}",
    flatFramesUploadTitle: 'フラットフレーム（オプション）',
    flatFramesUploadDescription: '1つ以上のフラットフレーム（JPG/PNG/WEBP/FITS）をアップロードします。平均化されてマスターフラットになり、センサーのほこりやケラレなどを補正するために使用されます。同様の寸法であることを確認してください。',
    useFlatFramesLabel: 'フラットフィールド補正を有効にする',
    flatFramesPreviewTitle: 'フラットフレームプレビュー ({count})',
    flatFramesMissing: "フラットフィールド補正が有効になっていますが、フラットフレームがアップロードされていないか、読み込みに失敗しました。",
    flatFramesMissingTitle: "フラットフレームがありません",
    logLoadingFlatFrames: "{count}個のフラットフレームを読み込み中...",
    logMasterFlatCreated: "{count}個のフレームからマスターフラットフレームが作成されました。",
    logMasterFlatFailed: "マスターフラットフレームの作成に失敗しました（有効なフラットが処理されませんでした）。",
    logBiasSubtractedFromFlat: "フラットフレームからバイアス（もしあれば）が減算されました: {flatFrameName}",
    biasFramesUploadTitle: 'バイアスフレーム（オプション）',
    biasFramesUploadDescription: '1つ以上のバイアスフレーム（JPG/PNG/WEBP/FITS）をアップ로드합니다。平均化されてマスターバイアスになり、カメラの読み出しノイズを表します。使用する場合、ライト、ダーク、フラットフレームから減算されます。同様の寸法であることを確認してください。',
    useBiasFramesLabel: 'バイアスフレーム減算を有効にする',
    biasFramesPreviewTitle: 'バイアスフレームプレビュー ({count})',
    biasFramesMissing: "バイアスフレーム減算が有効になっていますが、バイアスフレームがアップロードされていないか、読み込みに失敗しました。",
    biasFramesMissingTitle: "バイアスフレームがありません",
    logLoadingBiasFrames: "{count}個のバイアスフレームを読み込み中...",
    logMasterBiasCreated: "{count}個のフレームからマスターバイアスフレームが作成されました。",
    logMasterBiasFailed: "マスターバイアスフレームの作成に失敗しました（有効なバイアスが処理されませんでした）。",
    logDarkFrameLoaded: "ダークフレーム {fileName} が読み込まれました ({width}x{height})。",
    logFlatFrameLoaded: "フラットフレーム {fileName} が読み込まれました ({width}x{height})。",
    logBiasFrameLoaded: "バイアスフレーム {fileName} が読み込まれました ({width}x{height})。",
    startLearningSession: "学習セッションを開始",
    stopLearningSession: "学習セッションを停止",
    learningModeActiveIndicator: "学習モードがアクティブです",
    enterPinDialogTitle: "学習モードを有効にするためのPINを入力してください",
    enterPinDialogDesc: "指定されたPINを入力して学習セッションを開始します。これにより、参照星のパターンを定義できます。",
    pinPlaceholder: "PINコード",
    submitPinButton: "PINを送信",
    incorrectPinToastTitle: "不正なPIN",
    incorrectPinToastDesc: "入力したPINが間違っています。学習モードは有効になりませんでした。",
    learningModeActivatedToastTitle: "学習モードが有効になりました",
    learningModeActivatedToastDesc: "画像の星を編集して確認することで、星のパターンを定義できるようになりました。リストからパターンを選択して、スタッキングやテストに使用します。",
    learningModeDeactivatedToastTitle: "学習モードが無効になりました",
    learningModeDeactivatedToastDesc: "現在の学習セッションは終了しました。学習したパターンはローカルに保存されたままです。",
    starPatternFirstLearnedToastTitle: "星のパターンを学習しました！",
    starPatternFirstLearnedToastDesc: "'{fileName}' からのパターンと特性（{starCount}個の星; 平均輝度: {avgBrightness}, 平均コントラスト: {avgContrast}, 平均FWHM: {avgFwhm}）がキャプチャされました。リストに追加され、ローカルに保存されました。",
    starPatternOverwrittenToastTitle: "学習した星のパターンが更新されました！",
    starPatternOverwrittenToastDesc: "'{fileName}' の既存のパターンが更新されました。新しいパターンと特性（{starCount}個の星; 平均輝度: {avgBrightness}, 平均コントラスト: {avgContrast}, 平均FWHM: {avgFwhm}）がキャプチャされました。ローカルに保存されました。",
    noPatternLearnedYetInfo: "まだ星のパターンが学習されていません。画像上の星を編集して確認し、パターンを作成してください。",
    patternStoredButModeOffInfo: "{count}個のパターンがローカルに保存されています。学習モードを有効にして使用または管理してください。",
    selectedPatternsTitle: "スタッキング用に選択されたパターン ({count})",
    avgBrightnessLabel: "平均輝度",
    avgContrastLabel: "平均コントラスト",
    avgFwhmLabel: "平均FWHM",
    learningModeCardTitle: "パターン学習とデータ管理",
    learningModeCardDescription: "手動でAIに星のパターンを教えてアライメントを改善します。学習したパターンをファイルにエクスポートしてバックアップや共有をしたり、ファイルからパターンをインポートしたりすることもできます。",
    allLearnedPatternsListTitle: "保存されたパターン",
    selectPatternCheckboxLabel: "{fileName} からスタッキング/テスト用のパターンを選択",
    deletePatternButtonText: "削除",
    clearAllLearnedPatternsButton: "すべての学習済みパターンをクリア",
    patternDeletedToastTitle: "パターンが削除されました",
    patternDeletedToastDesc: "'{fileName}' からのパターンが削除されました。",
    allPatternsClearedToastTitle: "すべてのパターンがクリアされました",
    allPatternsClearedToastDesc: "すべての学習済み星パターンがローカルストレージから削除されました。",
    noActivePatternSelectedInfo: "現在選択されているパターンはありません。以下のリストのチェックボックスをオンにして、アライメントガイダンスまたはテスト用のパターンを選択してください。",
    learnedDateLabel: "学習日: {date}",
    learnTestCardTitle: "学習テストモジュール",
    learnTestCardDescription: "ここに画像をアップロードして、訓練されたAIモデルに基づいてどの星が認識されるかを確認します。",
    uploadTestImageButton: "テスト画像をアップロード",
    runPatternTestButton: "パターンテストを実行",
    analyzingTestImageProgress: "学習したパターンでテスト画像を分析中...",
    noActivePatternForTestToastTitle: "テスト用にパターンが選択されていません",
    noActivePatternForTestToastDesc: "テストを実行するには、上記のリストから学習済みパターンを1つだけ選択してください。",
    learnTestSelectSinglePatternTitle: "テスト用に1つのパターンを選択",
    learnTestSelectSinglePatternDesc: "「保存されたパターン」リストから、このテストに使用するパターンを1つだけ選択してください。",
    noTestImageToastTitle: "テスト画像がありません",
    noTestImageToastDesc: "学習したパターンをテストする画像をアップロードしてください。",
    testAnalysisCompleteToastTitle: "学習テスト完了",
    testAnalysisCompleteToastDesc: "'{fileName}' の {count} 個の星が、選択された学習済みパターンに一致しました。",
    testAnalysisNoStarsFoundToastDesc: "'{fileName}' の星は、選択された学習済みパターンに十分一致しませんでした。",
    testImagePreviewTitle: "テスト画像: {fileName}",
    recognizedStarsCount: "{count} 個の星がパターンによって認識されました",
    
    tutorialButton: "チュートリアル",
    tutorialTitle: "AstroStacker の使い方",
    tutorialStep1Title: "ステップ1：画像をアップロード",
    tutorialStep1Content: "「ここに画像をドラッグ＆ドロップ」をクリックするか、天体写真ファイルをボックスにドロップします。一般的な形式（JPG、PNG）や多くのRAW形式（TIF、FITSなど）がImageMagickのおかげでサポートされています。アップロード後、アプリは各画像を自動的に分析して星を検出します。",
    tutorialStep2Title: "ステップ2：アライメント方法を選択",
    tutorialStep2Content: "左側のパネルで、「アライメント方法」を選択します。\n\n- 標準（2つ星）：このクラシックな方法は、最初の（REF）画像の最も明るい2つの星を使用して他のすべての画像を整列させます。高速でシンプルです。最良の結果を得るには、参照画像で「星を選択」をクリックして2つのアライメント星を手動で選択できます。\n\n- AIパターン：この強力な方法は、機械学習モデルを使用してアライメントに最適な星を見つけます。これを使用するには、まずAIを教える必要があります。",
    tutorialStep3Title: "ステップ3：（AI方式）AIを教える",
    tutorialStep3Content: "「AIパターン」方式を使用するには、まずトレーニングデータを作成し、モデルをトレーニングする必要があります。\n1. 分析済みの画像で「星を選択」をクリックします。\n2. メインプレビューで、少なくとも20〜30個の明確な星をクリックします。各画像の選択を確認することで、複数の画像にわたってこれを行うことができます。\n3. 「確認してパターンを学習」をクリックします。これにより、選択した星の特性が保存されます。\n4. 「パターン学習」カードで、トレーニングに使用するパターンにチェックを入れます。\n5. 「AIモデルをトレーニング」をクリックします。これにより、ブラウザで直接モデルがトレーニングされます。トレーニングが完了すると、モデルを使用する準備が整い、将来のセッションのために自動的に保存されます。",
    tutorialStep4Title: "ステップ4：設定とスタック",
    tutorialStep4Content: "アライメント方法の下で、ピクセル値の結合方法を決定する「スタッキングモード」（平均、中央値、シグマクリップ）を設定できます。準備ができたら、メインの「画像をスタック」ボタンをクリックします。アプリは各画像を整列させてから結合し、進行状況を表示します。",
    tutorialStep5Title: "ステップ5：後処理とダウンロード",
    tutorialStep5Content: "スタッキングが完了すると、最終的な画像が表示されます。「画像を最終処理してダウンロード」をクリックして後処理エディタを開きます。ここで、明るさ、露出、彩度を調整して画像を強調できます。満足したら、「画像をダウンロード」ボタンをクリックして結果をコンピュータに保存します。",
    
    exportPatternsButton: "パターンをエクスポート",
    importPatternsButton: "パターンをインポート",
    importPatternsDropzone: "ここにパターンファイルをドロップ",
    noPatternsToExport: "エクスポートする学習済みパターンがありません。",
    patternsImportedSuccess: "インポートに成功しました。新しいパターン{new}個を追加し、既存のパターン{updated}個を更新しました。",
    patternImportFailed: "パターンのインポートに失敗しました",
    trainModelButton: "AIモデルを訓練",
    trainingModelButton: "モデルを訓練中..."
  }
};

export const defaultLocale: Locale = 'en';

export const getTranslations = (locale: Locale) => translations[locale] || translations[defaultLocale];

    