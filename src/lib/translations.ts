
export type Locale = 'en' | 'ko' | 'zh';

interface TranslationMessages {
  [key: string]: string;
}

interface Translations {
  en: TranslationMessages;
  ko: TranslationMessages;
  zh: TranslationMessages;
}

export const translations: Translations = {
  en: {
    appTitle: 'AstroStacker',
    uploadAndConfigure: 'Upload & Configure Images',
    cardDescription: "Add PNG, JPG, GIF, WEBP, or FITS files. FITS files are processed using a built-in parser. Images are aligned using star centroids or brightness. Optionally downscale large images on upload. Stacking uses processed resolution. Median or Sigma Clip methods available. DNG files may require manual pre-conversion. TIFF processing is currently disabled.",
    creditsLine1: 'AstroStacker © {year}',
    creditsLine2Part1: 'Created by Min Hong Seo (암흑광자) with invaluable help from 천관사, Saturn, 구구, Flec, Latte, 얼음세상, 뉴비, 오르트, 지민, 모닥별, 배추빙수, 응애, Kangwoo, and many others.',
    switchToEnglish: 'EN',
    switchToKorean: 'KO',
    switchToChinese: 'ZH',
    stackImagesButton: 'Stack Images ({count})',
    stackingButtonInProgress: 'Stacking...',
    finalizeAndDownload: 'Finalize & Download Image',
    imageQueueCount: 'Image Queue ({count})',
    stackingMode: 'Stacking Mode',
    previewFit: 'Preview Fit',
    fitContain: 'Contain',
    fitCover: 'Cover',
    outputFormat: 'Output Format',
    jpgQuality: 'JPG Quality: {jpegQuality}%',
    editStarsFor: 'Edit Stars for: {fileName}',
    editStarsDescription: 'Click on stars to add/remove. Current: {starCount} stars. Image Dim: {width}x{height}.',
    resetToAuto: 'Reset to Auto',
    wipeAllStars: 'Wipe All Stars',
    confirmAndClose: 'Confirm & Close',
    cancelEditing: 'Cancel Editing',
    processingLogs: 'Processing Logs',
    applyStarsToOther: 'Apply Star Selection to Other Images?',
    applyStarsDescription: "You've manually set {starCount} stars for '{fileName}' ({width}x{height}px). Apply this star selection to all {otherImageCount} other images in the queue that have matching dimensions? This will set them to Manual mode and mark them as reviewed.",
    noKeepIndividual: 'No, Keep Individual',
    yesApplyToAll: 'Yes, Apply to All Matching',
    downscalePrompt: "Image '{fileName}' ({width}x{height}px) is large. Downscaling it to max {maxSize}px (maintaining aspect ratio) can improve stability and speed. Downscale it?",
    stackingProgress: 'Stacking: {progressPercent}%',

    darkFramesUploadTitle: 'Dark Frames (Optional)',
    darkFramesUploadDescription: 'Upload one or more dark frames (JPG/PNG/WEBP/FITS). They will be averaged into a master dark, then subtracted from each light frame to reduce thermal noise. Ensure similar dimensions.',
    useDarkFramesLabel: 'Enable Dark Frame Subtraction',
    darkFramesPreviewTitle: 'Dark Frames Preview ({count})',
    darkFramesMissing: "Dark frame subtraction enabled, but no dark frames uploaded or they failed to load.",
    darkFramesMissingTitle: "Dark Frames Missing",
    logLoadingDarkFrames: "Loading {count} Dark Frame(s)...",
    logMasterDarkCreated: "Master Dark Frame created from {count} frames.",
    logMasterDarkFailed: "Failed to create Master Dark Frame (no valid darks processed).",
    logBiasSubtractedFromDark: "Bias (if any) subtracted from dark frame: {darkFrameName}",
    
    flatFramesUploadTitle: 'Flat Frames (Optional)',
    flatFramesUploadDescription: 'Upload one or more flat frames (JPG/PNG/WEBP/FITS). Averaged into a master flat, then used to correct for sensor dust, vignetting, etc. Ensure similar dimensions.',
    useFlatFramesLabel: 'Enable Flat Field Correction',
    flatFramesPreviewTitle: 'Flat Frames Preview ({count})',
    flatFramesMissing: "Flat field correction enabled, but no flat frames uploaded or they failed to load.",
    flatFramesMissingTitle: "Flat Frames Missing",
    logLoadingFlatFrames: "Loading {count} Flat Frame(s)...",
    logMasterFlatCreated: "Master Flat Frame created from {count} frames.",
    logMasterFlatFailed: "Failed to create Master Flat Frame (no valid flats processed).",
    logBiasSubtractedFromFlat: "Bias (if any) subtracted from flat frame: {flatFrameName}",

    biasFramesUploadTitle: 'Bias Frames (Optional)',
    biasFramesUploadDescription: 'Upload one or more bias frames (JPG/PNG/WEBP/FITS). Averaged into a master bias, representing camera read-out noise. Subtracted from Light, Dark, and Flat frames if used. Ensure similar dimensions.',
    useBiasFramesLabel: 'Enable Bias Frame Subtraction',
    biasFramesPreviewTitle: 'Bias Frames Preview ({count})',
    biasFramesMissing: "Bias frame subtraction enabled, but no bias frames uploaded or they failed to load.",
    biasFramesMissingTitle: "Bias Frames Missing",
    logLoadingBiasFrames: "Loading {count} Bias Frame(s)...",
    logMasterBiasCreated: "Master Bias Frame created from {count} frames.",
    logMasterBiasFailed: "Failed to create Master Bias Frame (no valid biases processed).",

    // Shared for single frame processing (kept for reference, may be less used now)
    logDarkFrameLoaded: "Dark frame {fileName} loaded ({width}x{height}).",
    logFlatFrameLoaded: "Flat frame {fileName} loaded ({width}x{height}).",
    logBiasFrameLoaded: "Bias frame {fileName} loaded ({width}x{height}).",
  },
  ko: {
    appTitle: '아스트로스태커',
    uploadAndConfigure: '이미지 업로드 및 설정',
    cardDescription: "PNG, JPG, GIF, WEBP, 또는 FITS 파일을 추가하세요. FITS 파일은 내장 파서를 사용하여 처리됩니다. 이미지는 별 중심 또는 밝기 중심으로 정렬됩니다. 업로드 시 큰 이미지를 선택적으로 축소할 수 있습니다. 스태킹은 처리된 해상도를 사용합니다. 중간값 또는 시그마 클립 방법을 사용할 수 있습니다. DNG 파일은 수동 사전 변환이 필요할 수 있습니다. TIFF 처리는 현재 비활성화되어 있습니다.",
    creditsLine1: '아스트로스태커 © {year}',
    creditsLine2Part1: '천관사님, 새턴님, 구구님, 플렉님, 라떼님, 얼음세상님, 늅님, 오르트님, 지민님, 모닥별님, 배추빙수님, 응애님, 강우님 그리고 다른 여러 분들의 도움으로 서민홍(암흑광자) 에 의해 제작되었습니다.',
    switchToEnglish: '영',
    switchToKorean: '한',
    switchToChinese: '중',
    stackImagesButton: '이미지 스태킹 ({count}개)',
    stackingButtonInProgress: '스태킹 중...',
    finalizeAndDownload: '이미지 확정 및 다운로드',
    imageQueueCount: '이미지 대기열 ({count}개)',
    stackingMode: '스태킹 모드',
    previewFit: '미리보기 맞춤',
    fitContain: '포함',
    fitCover: '채우기',
    outputFormat: '출력 형식',
    jpgQuality: 'JPG 품질: {jpegQuality}%',
    editStarsFor: '별 편집: {fileName}',
    editStarsDescription: '별을 클릭하여 추가/제거하세요. 현재: 별 {starCount}개. 이미지 크기: {width}x{height}.',
    resetToAuto: '자동으로 재설정',
    wipeAllStars: '모든 별 지우기',
    confirmAndClose: '확인 및 닫기',
    cancelEditing: '편집 취소',
    processingLogs: '처리 로그',
    applyStarsToOther: '다른 이미지에도 이 별 선택을 적용할까요?',
    applyStarsDescription: "'{fileName}'({width}x{height}px)에 대해 {starCount}개의 별을 수동으로 설정했습니다. 동일한 크기를 가진 대기열의 다른 {otherImageCount}개 이미지에도 이 별 선택을 적용하시겠습니까? 해당 이미지들은 수동 모드로 설정되고 검토된 것으로 표시됩니다.",
    noKeepIndividual: '아니요, 개별 유지',
    yesApplyToAll: '예, 일치하는 모든 항목에 적용',
    downscalePrompt: "이미지 '{fileName}' ({width}x{height}px)이(가) 큽니다. 최대 크기를 {maxSize}px로 축소(종횡비 유지)하면 안정성과 처리 속도를 향상시킬 수 있습니다. 축소하시겠습니까?",
    stackingProgress: '스태킹 진행률: {progressPercent}%',

    darkFramesUploadTitle: '다크 프레임 (선택 사항)',
    darkFramesUploadDescription: '하나 이상의 다크 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 다크를 만들고, 각 라이트 프레임에서 빼서 열 노이즈를 줄입니다. 비슷한 크기를 사용하세요.',
    useDarkFramesLabel: '다크 프레임 빼기 활성화',
    darkFramesPreviewTitle: '다크 프레임 미리보기 ({count}개)',
    darkFramesMissing: "다크 프레임 빼기가 활성화되었지만, 다크 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    darkFramesMissingTitle: "다크 프레임 없음",
    logLoadingDarkFrames: "{count}개의 다크 프레임 로드 중...",
    logMasterDarkCreated: "{count}개의 프레임으로 마스터 다크 프레임 생성됨.",
    logMasterDarkFailed: "마스터 다크 프레임 생성 실패 (유효한 다크 없음).",
    logBiasSubtractedFromDark: "다크 프레임에서 바이어스(있을 경우) 차감: {darkFrameName}",

    flatFramesUploadTitle: '플랫 프레임 (선택 사항)',
    flatFramesUploadDescription: '하나 이상의 플랫 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 플랫을 만들고, 센서 먼지, 비네팅 등을 보정합니다. 비슷한 크기를 사용하세요.',
    useFlatFramesLabel: '플랫 필드 보정 활성화',
    flatFramesPreviewTitle: '플랫 프레임 미리보기 ({count}개)',
    flatFramesMissing: "플랫 필드 보정이 활성화되었지만, 플랫 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    flatFramesMissingTitle: "플랫 프레임 없음",
    logLoadingFlatFrames: "{count}개의 플랫 프레임 로드 중...",
    logMasterFlatCreated: "{count}개의 프레임으로 마스터 플랫 프레임 생성됨.",
    logMasterFlatFailed: "마스터 플랫 프레임 생성 실패 (유효한 플랫 없음).",
    logBiasSubtractedFromFlat: "플랫 프레임에서 바이어스(있을 경우) 차감: {flatFrameName}",

    biasFramesUploadTitle: '바이어스 프레임 (선택 사항)',
    biasFramesUploadDescription: '하나 이상의 바이어스 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 바이어스를 만들고, 카메라 읽기 노이즈를 나타냅니다. 사용 시 라이트, 다크, 플랫 프레임에서 차감됩니다. 비슷한 크기를 사용하세요.',
    useBiasFramesLabel: '바이어스 프레임 빼기 활성화',
    biasFramesPreviewTitle: '바이어스 프레임 미리보기 ({count}개)',
    biasFramesMissing: "바이어스 프레임 빼기가 활성화되었지만, 바이어스 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    biasFramesMissingTitle: "바이어스 프레임 없음",
    logLoadingBiasFrames: "{count}개의 바이어스 프레임 로드 중...",
    logMasterBiasCreated: "{count}개의 프레임으로 마스터 바이어스 프레임 생성됨.",
    logMasterBiasFailed: "마스터 바이어스 프레임 생성 실패 (유효한 바이어스 없음).",

    logDarkFrameLoaded: "다크 프레임 {fileName} 로드됨 ({width}x{height}).",
    logFlatFrameLoaded: "플랫 프레임 {fileName} 로드됨 ({width}x{height}).",
    logBiasFrameLoaded: "바이어스 프레임 {fileName} 로드됨 ({width}x{height}).",
  },
  zh: {
    appTitle: '天文图像叠加器 (AstroStacker)',
    uploadAndConfigure: '上传和配置图像',
    cardDescription: "添加 PNG, JPG, GIF, WEBP, 或 FITS 文件。FITS 文件使用内置解析器进行处理。图像使用星点质心或亮度对齐。上传时可选择缩小大图像。叠加使用处理后的分辨率。可使用中值或Sigma裁剪方法。DNG文件可能需要手动预转换。TIFF 处理当前已禁用。",
    creditsLine1: '天文图像叠加器 © {year}',
    creditsLine2Part1: '由 Min Hong Seo (암흑광자) 在 천관사, Saturn, 구구, Flec, Latte, 얼음세상, 뉴비, 오르트, 지민, 모닥별, 배추빙수, 응애, Kangwoo 及许多其他人的宝贵帮助下创建。',
    switchToEnglish: '英',
    switchToKorean: '韩',
    switchToChinese: '中',
    stackImagesButton: '叠加图像 ({count})',
    stackingButtonInProgress: '叠加中...',
    finalizeAndDownload: '完成并下载图像',
    imageQueueCount: '图像队列 ({count})',
    stackingMode: '叠加模式',
    previewFit: '预览适应',
    fitContain: '适应内容',
    fitCover: '充满容器',
    outputFormat: '输出格式',
    jpgQuality: 'JPG 质量: {jpegQuality}%',
    editStarsFor: '编辑星点: {fileName}',
    editStarsDescription: '点击星点以添加/删除。当前: {starCount} 颗星。图像尺寸: {width}x{height}。',
    resetToAuto: '重置为自动',
    wipeAllStars: '清除所有星点',
    confirmAndClose: '确认并关闭',
    cancelEditing: '取消编辑',
    processingLogs: '处理日志',
    applyStarsToOther: '将星点选择应用于其他图像?',
    applyStarsDescription: "您已为 '{fileName}' ({width}x{height}px) 手动设置了 {starCount} 颗星。是否将此星点选择应用于队列中具有匹配尺寸的所有其他 {otherImageCount} 张图像？这将把它们设置为手动模式并标记为已审查。",
    noKeepIndividual: '不，保持独立',
    yesApplyToAll: '是，应用于所有匹配项',
    downscalePrompt: "图像 '{fileName}' ({width}x{height}px) 尺寸较大。将其缩小至最大 {maxSize}px (保持纵横比) 可以提高稳定性和速度。是否缩小？",
    stackingProgress: '叠加进度: {progressPercent}%',

    darkFramesUploadTitle: '暗场 (可选)',
    darkFramesUploadDescription: '上传一个或多个暗场文件 (JPG/PNG/WEBP/FITS)。它们将被平均为母版暗场，然后从每个亮场中减去以减少热噪声。确保尺寸相似。',
    useDarkFramesLabel: '启用暗场扣除',
    darkFramesPreviewTitle: '暗场预览 ({count})',
    darkFramesMissing: "已启用暗场扣除，但未上传暗场或加载失败。",
    darkFramesMissingTitle: "暗场缺失",
    logLoadingDarkFrames: "正在加载 {count} 个暗场...",
    logMasterDarkCreated: "已从 {count} 个帧创建母版暗场。",
    logMasterDarkFailed: "未能创建母版暗场 (未处理有效暗场)。",
    logBiasSubtractedFromDark: "已从暗场中减去偏置场 (如有): {darkFrameName}",

    flatFramesUploadTitle: '平场 (可选)',
    flatFramesUploadDescription: '上传一个或多个平场文件 (JPG/PNG/WEBP/FITS)。平均为母版平场，然后用于校正传感器灰尘、渐晕等。确保尺寸相似。',
    useFlatFramesLabel: '启用平场校正',
    flatFramesPreviewTitle: '平场预览 ({count})',
    flatFramesMissing: "已启用平场校正，但未上传平场或加载失败。",
    flatFramesMissingTitle: "平场缺失",
    logLoadingFlatFrames: "正在加载 {count} 个平场...",
    logMasterFlatCreated: "已从 {count} 个帧创建母版平场。",
    logMasterFlatFailed: "未能创建母版平场 (未处理有效平场)。",
    logBiasSubtractedFromFlat: "已从平场中减去偏置场 (如有): {flatFrameName}",
    
    biasFramesUploadTitle: '偏置场 (可选)',
    biasFramesUploadDescription: '上传一个或多个偏置场文件 (JPG/PNG/WEBP/FITS)。平均为母版偏置场，代表相机读出噪声。如果使用，将从亮场、暗场和平场中减去。确保尺寸相似。',
    useBiasFramesLabel: '启用偏置场扣除',
    biasFramesPreviewTitle: '偏置场预览 ({count})',
    biasFramesMissing: "已启用偏置场扣除，但未上传偏置场或加载失败。",
    biasFramesMissingTitle: "偏置场缺失",
    logLoadingBiasFrames: "正在加载 {count} 个偏置场...",
    logMasterBiasCreated: "已从 {count} 个帧创建母版偏置场。",
    logMasterBiasFailed: "未能创建母版偏置场 (未处理有效偏置场)。",

    logDarkFrameLoaded: "暗场 {fileName} 已加载 ({width}x{height})。",
    logFlatFrameLoaded: "平场 {fileName} 已加载 ({width}x{height})。",
    logBiasFrameLoaded: "偏置场 {fileName} 已加载 ({width}x{height})。",
  }
};

export const defaultLocale: Locale = 'en';

export const getTranslations = (locale: Locale) => translations[locale] || translations[defaultLocale];

