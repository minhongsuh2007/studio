
export type Locale = 'en' | 'ko' | 'zh';

interface TranslationMessages {
  [key: string]: string;
}

interface Translations {
  en: TranslationMessages;
  ko: TranslationMessages;
  zh: TranslationMessages;
}

export const translations: Translations = {
  en: {
    appTitle: 'AstroStacker',
    uploadAndConfigure: 'Upload & Configure Images',
    cardDescription: "Add PNG, JPG, GIF, or WEBP files. Images are aligned using a star pattern propagation algorithm. Manually select reference stars on the first image for best results.",
    creditsLine1: 'AstroStacker © {year}',
    creditsLine2Part1: 'Created by Min Hong Seo (암흑광자) with invaluable help from 천관사, Saturn, 구구, Flec, Latte, 얼음세상, 뉴비, 오르트, 지민, 모닥별, 배추빙수, 응애, Kangwoo, and many others.',
    switchToEnglish: 'EN',
    switchToKorean: 'KO',
    switchToChinese: 'ZH',
    stackImagesButton: 'Stack Images ({count})',
    stackingButtonInProgress: 'Stacking...',
    finalizeAndDownload: 'Finalize & Download Image',
    imageQueueCount: 'Image Queue ({count})',
    stackingMode: 'Stacking Mode',
    previewFit: 'Preview Fit',
    fitContain: 'Contain',
    fitCover: 'Cover',
    outputFormat: 'Output Format',
    jpgQuality: 'JPG Quality: {jpegQuality}%',
    editStarsFor: 'Edit Stars for: {fileName}',
    editStarsDescription: 'Click on stars to add/remove. Current: {starCount} stars. Image Dim: {width}x{height}.',
    resetToAuto: 'Reset to Auto',
    wipeAllStars: 'Clear All Stars',
    confirmAndClose: 'Confirm & Close',
    confirmAndNext: 'Confirm & Next',
    cancelEditing: 'Cancel Editing',
    processingLogs: 'Processing Logs',

    applyStarOptionsMenuTitle: 'Apply Star Selection to Others',
    applyStarOptionsMenuDesc: "You've set {starCount} stars for '{fileName}' ({width}x{height}px). How would you like to apply this selection to other images in the queue?",
    applyToMatchingDimensionsBtn: 'To {count} images with matching dimensions',
    applyProportionallyBtn: 'Proportionally to {count} images with similar aspect ratio',
    dontApplyToOthersBtn: "Don't Apply to Others",

    toastStarsAppliedMatchingDimTitle: "Stars Applied (Matching Dimensions)",
    toastStarsAppliedMatchingDimDesc: "The selected stars have been applied to other images with matching dimensions.",
    toastProportionalApplySkippedTitle: "Proportional Apply Skipped",
    toastProportionalApplySkippedDesc: "Source image '{fileName}' has no stars selected. Proportional application skipped.",
    toastProportionalApplyDoneTitle: "Stars Applied (Proportionally)",
    toastProportionalApplyDoneDesc: "Stars proportionally applied to images with matching aspect ratios.",

    downscalePrompt: "Image '{fileName}' ({width}x{height}px) is large. Downscaling it to max {maxSize}px (maintaining aspect ratio) can improve stability and speed. Downscale it?",
    stackingProgress: 'Stacking: {progressPercent}%',

    darkFramesUploadTitle: 'Dark Frames (Optional)',
    darkFramesUploadDescription: 'Upload one or more dark frames (JPG/PNG/WEBP/FITS). They will be averaged into a master dark, then subtracted from each light frame to reduce thermal noise. Ensure similar dimensions.',
    useDarkFramesLabel: 'Enable Dark Frame Subtraction',
    darkFramesPreviewTitle: 'Dark Frames Preview ({count})',
    darkFramesMissing: "Dark frame subtraction enabled, but no dark frames uploaded or they failed to load.",
    darkFramesMissingTitle: "Dark Frames Missing",
    logLoadingDarkFrames: "Loading {count} Dark Frame(s)...",
    logMasterDarkCreated: "Master Dark Frame created from {count} frames.",
    logMasterDarkFailed: "Failed to create Master Dark Frame (no valid darks processed).",
    logBiasSubtractedFromDark: "Bias (if any) subtracted from dark frame: {darkFrameName}",

    flatFramesUploadTitle: 'Flat Frames (Optional)',
    flatFramesUploadDescription: 'Upload one or more flat frames (JPG/PNG/WEBP/FITS). Averaged into a master flat, then used to correct for sensor dust, vignetting, etc. Ensure similar dimensions.',
    useFlatFramesLabel: 'Enable Flat Field Correction',
    flatFramesPreviewTitle: 'Flat Frames Preview ({count})',
    flatFramesMissing: "Flat field correction enabled, but no flat frames uploaded or they failed to load.",
    flatFramesMissingTitle: "Flat Frames Missing",
    logLoadingFlatFrames: "Loading {count} Flat Frame(s)...",
    logMasterFlatCreated: "Master Flat Frame created from {count} frames.",
    logMasterFlatFailed: "Failed to create Master Flat Frame (no valid flats processed).",
    logBiasSubtractedFromFlat: "Bias (if any) subtracted from flat frame: {flatFrameName}",

    biasFramesUploadTitle: 'Bias Frames (Optional)',
    biasFramesUploadDescription: 'Upload one or more bias frames (JPG/PNG/WEBP/FITS). Averaged into a master bias, representing camera read-out noise. Subtracted from Light, Dark, and Flat frames if used. Ensure similar dimensions.',
    useBiasFramesLabel: 'Enable Bias Frame Subtraction',
    biasFramesPreviewTitle: 'Bias Frames Preview ({count})',
    biasFramesMissing: "Bias frame subtraction enabled, but no bias frames uploaded or they failed to load.",
    biasFramesMissingTitle: "Bias Frames Missing",
    logLoadingBiasFrames: "Loading {count} Bias Frame(s)...",
    logMasterBiasCreated: "Master Bias Frame created from {count} frames.",
    logMasterBiasFailed: "Failed to create Master Bias Frame (no valid biases processed).",

    logDarkFrameLoaded: "Dark frame {fileName} loaded ({width}x{height}).",
    logFlatFrameLoaded: "Flat frame {fileName} loaded ({width}x{height}).",
    logBiasFrameLoaded: "Bias frame {fileName} loaded ({width}x{height}).",

    startLearningSession: "Start Learning Session",
    stopLearningSession: "Stop Learning Session",
    learningModeActiveIndicator: "LEARNING MODE ACTIVE",
    enterPinDialogTitle: "Enter PIN to Activate Learning Mode",
    enterPinDialogDesc: "Enter the designated PIN to start a learning session. This allows you to define reference star patterns.",
    pinPlaceholder: "PIN Code",
    submitPinButton: "Submit PIN",
    incorrectPinToastTitle: "Incorrect PIN",
    incorrectPinToastDesc: "The PIN you entered is incorrect. Learning mode not activated.",
    learningModeActivatedToastTitle: "Learning Mode Activated",
    learningModeActivatedToastDesc: "You can now define star patterns by editing stars on an image and confirming. Select patterns from the list to use them for stacking or testing.",
    learningModeDeactivatedToastTitle: "Learning Mode Deactivated",
    learningModeDeactivatedToastDesc: "The current learning session has ended. Learned patterns remain stored locally.",
    starPatternFirstLearnedToastTitle: "Star Pattern Learned!",
    starPatternFirstLearnedToastDesc: "Pattern & characteristics from '{fileName}' ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. It has been added to your list and stored locally.",
    starPatternOverwrittenToastTitle: "Learned Star Pattern Updated!",
    starPatternOverwrittenToastDesc: "Existing pattern for '{fileName}' updated. New pattern & characteristics ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. Stored locally.",

    noPatternLearnedYetInfo: "No star pattern has been learned. Edit stars on an image and confirm to create one.",
    patternStoredButModeOffInfo: "{count} pattern(s) stored locally. Activate Learning Mode to use or manage them.",
    selectedPatternsTitle: "Selected Patterns for Stacking ({count})",
    avgBrightnessLabel: "Avg Brightness",
    avgContrastLabel: "Avg Contrast",
    avgFwhmLabel: "Avg FWHM",
    learningModeCardTitle: "Pattern Learning Mode",
    learningModeCardDescription: "Activate to manually teach the system reference star patterns for improved alignment. Patterns are stored in your browser. Select patterns using checkboxes to apply them during stacking.",
    allLearnedPatternsListTitle: "Stored Patterns",
    selectPatternCheckboxLabel: "Select pattern from {fileName} for stacking/testing",
    deletePatternButtonText: "Delete",
    clearAllLearnedPatternsButton: "Clear ALL Learned Patterns",
    patternDeletedToastTitle: "Pattern Deleted",
    patternDeletedToastDesc: "Pattern from '{fileName}' has been deleted.",
    allPatternsClearedToastTitle: "All Patterns Cleared",
    allPatternsClearedToastDesc: "All learned star patterns have been removed from local storage.",
    noActivePatternSelectedInfo: "No patterns are currently selected. Check boxes in the list below to select patterns for alignment guidance or for testing.",
    learnedDateLabel: "Learned: {date}",

    learnTestCardTitle: "Learn Test Module",
    learnTestCardDescription: "Upload an image here to see which stars are recognized based on a *single selected* learned pattern's characteristics.",
    uploadTestImageButton: "Upload Test Image",
    runPatternTestButton: "Run Pattern Test",
    analyzingTestImageProgress: "Analyzing test image with learned pattern...",
    noActivePatternForTestToastTitle: "No Pattern Selected for Test",
    noActivePatternForTestToastDesc: "Please select exactly one learned pattern from the list above to run a test.",
    learnTestSelectSinglePatternTitle: "Select One Pattern for Test",
    learnTestSelectSinglePatternDesc: "'저장된 패턴' 목록에서 이 테스트에 사용할 패턴을 정확히 하나 선택해주세요.",
    noTestImageToastTitle: "No Test Image",
    noTestImageToastDesc: "Please upload an image to test the learned pattern on.",
    testAnalysisCompleteToastTitle: "Learn Test Complete",
    testAnalysisCompleteToastDesc: "{count} stars on '{fileName}' matched the selected learned pattern.",
    testAnalysisNoStarsFoundToastDesc: "No stars on '{fileName}' matched the selected learned pattern well enough.",
    testImagePreviewTitle: "Test Image: {fileName}",
    recognizedStarsCount: "{count} stars recognized by pattern",

    tutorialButton: "Tutorial",
    tutorialTitle: "How to Use AstroStacker",
    tutorialStep1Title: "Step 1: Upload Light Frames",
    tutorialStep1Content: "Click the 'Drag & drop images here' area or drop your main astrophotography images (your 'lights') into it. These are the main images of your target object. You can upload multiple files at once. After uploading, the app will automatically analyze each image to detect stars.",
    tutorialStep2Title: "Step 2: (Optional) Manual Star Selection",
    tutorialStep2Content: "For the best alignment accuracy, you can manually guide the process. The first image in the queue is the 'Reference Image'. Click 'Select Stars' on it. In the main preview window, you can now click near stars to manually select them for alignment. A red circle will appear. A minimum of two stars is required. This tells the app exactly which points to use for alignment.",
    tutorialStep3Title: "Step 3: Choose Stacking Options",
    tutorialStep3Content: "On the left panel, you can configure how the images are stacked. 'Stacking Mode' (Average, Median, Sigma Clip) determines how pixel values are combined. 'Output Format' lets you choose between PNG (lossless) and JPG (smaller file size).",
    tutorialStep4Title: "Step 4: Stack Images",
    tutorialStep4Content: "Once your images are uploaded and you're happy with the settings, click the 'Stack Images' button. The app will align each image to your reference frame and then combine them. The progress bar will show the status.",
    tutorialStep5Title: "Step 5: Post-Process and Download",
    tutorialStep5Content: "After stacking is complete, the final image will appear. Click 'Finalize & Download Image' to open the post-processing editor. Here, you can adjust Brightness, Exposure, and Saturation to enhance your image. When you are satisfied, click the 'Download Image' button to save the result to your computer."
  },
  ko: {
    appTitle: '별하늘',
    uploadAndConfigure: '이미지 업로드 및 설정',
    cardDescription: "PNG, JPG, GIF, 또는 WEBP 파일을 추가하세요. 별 패턴 전파 알고리즘을 사용하여 이미지를 정렬합니다. 최상의 결과를 위해 첫 번째 이미지에서 참조 별을 수동으로 선택하세요.",
    creditsLine1: '아스트로스태커 © {year}',
    creditsLine2Part1: '천관사님, 새턴님, 구구님, Flec님, 라떼님, 얼음세상님, 늅님, 오르트님, 지민님, 모닥별님, 배추빙수님, 응애님, Kangwoo님 그리고 다른 여러 분들의 도움으로 서민홍(암흑광자) 에 의해 제작되었습니다.',
    switchToEnglish: '영',
    switchToKorean: '한',
    switchToChinese: '중',
    stackImagesButton: '이미지 스태킹 ({count}개)',
    stackingButtonInProgress: '스태킹 중...',
    finalizeAndDownload: '이미지 확정 및 다운로드',
    imageQueueCount: '이미지 대기열 ({count}개)',
    stackingMode: '스태킹 모드',
    previewFit: '미리보기 맞춤',
    fitContain: '포함',
    fitCover: '채우기',
    outputFormat: '출력 형식',
    jpgQuality: 'JPG 품질: {jpegQuality}%',
    editStarsFor: '별 편집: {fileName}',
    editStarsDescription: '별을 클릭하여 추가/제거하세요. 현재: 별 {starCount}개. 이미지 크기: {width}x{height}.',
    resetToAuto: '자동으로 재설정',
    wipeAllStars: '모든 별 지우기',
    confirmAndClose: '확인 및 닫기',
    confirmAndNext: '확인 및 다음',
    cancelEditing: '편집 취소',
    processingLogs: '처리 로그',

    applyStarOptionsMenuTitle: '다른 이미지에 별 선택 적용',
    applyStarOptionsMenuDesc: "'{fileName}'({width}x{height}px)에 대해 {starCount}개의 별을 설정했습니다. 이 선택을 대기열의 다른 이미지에 어떻게 적용하시겠습니까?",
    applyToMatchingDimensionsBtn: '동일 크기 이미지 {count}개에 적용',
    applyProportionallyBtn: '유사 종횡비 이미지 {count}개에 비례 적용',
    dontApplyToOthersBtn: '다른 이미지에 적용 안 함',

    toastStarsAppliedMatchingDimTitle: "별 적용됨 (동일 크기)",
    toastStarsAppliedMatchingDimDesc: "선택한 별들이 동일한 크기의 다른 이미지들에 적용되었습니다.",
    toastProportionalApplySkippedTitle: "비례 적용 건너뜀",
    toastProportionalApplySkippedDesc: "원본 이미지 '{fileName}'에 선택된 별이 없습니다. 비례 적용을 건너뛰었습니다.",
    toastProportionalApplyDoneTitle: "별 적용됨 (비례)",
    toastProportionalApplyDoneDesc: "별들이 유사한 종횡비의 다른 이미지들에 비례하여 적용되었습니다.",

    downscalePrompt: "이미지 '{fileName}' ({width}x{height}px)이(가) 큽니다. 최대 크기를 {maxSize}px로 축소(종횡비 유지)하면 안정성과 처리 속도를 향상시킬 수 있습니다. 축소하시겠습니까?",
    stackingProgress: '스태킹 진행률: {progressPercent}%',

    darkFramesUploadTitle: '다크 프레임 (선택 사항)',
    darkFramesUploadDescription: '하나 이상의 다크 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 다크를 만들고, 각 라이트 프레임에서 빼서 열 노이즈를 줄입니다. 비슷한 크기를 사용하세요.',
    useDarkFramesLabel: '다크 프레임 빼기 활성화',
    darkFramesPreviewTitle: '다크 프레임 미리보기 ({count}개)',
    darkFramesMissing: "다크 프레임 빼기가 활성화되었지만, 다크 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    darkFramesMissingTitle: "다크 프레임 없음",
    logLoadingDarkFrames: "{count}개의 다크 프레임 로드 중...",
    logMasterDarkCreated: "{count}개의 프레임으로 마스터 다크 프레임 생성됨.",
    logMasterDarkFailed: "마스터 다크 프레임 생성 실패 (유효한 다크 없음).",
    logBiasSubtractedFromDark: "다크 프레임에서 바이어스(있을 경우) 차감: {darkFrameName}",

    flatFramesUploadTitle: '플랫 프레임 (선택 사항)',
    flatFramesUploadDescription: '하나 이상의 플랫 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 플랫을 만들고, 센서 먼지, 비네팅 등을 보정합니다. 비슷한 크기를 사용하세요.',
    useFlatFramesLabel: '플랫 필드 보정 활성화',
    flatFramesPreviewTitle: '플랫 프레임 미리보기 ({count}개)',
    flatFramesMissing: "플랫 필드 보정이 활성화되었지만, 플랫 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    flatFramesMissingTitle: "플랫 프레임 없음",
    logLoadingFlatFrames: "{count}개의 플랫 프레임 로드 중...",
    logMasterFlatCreated: "{count}개의 프레임으로 마스터 플랫 프레임 생성됨.",
    logMasterFlatFailed: "마스터 플랫 프레임 생성 실패 (유효한 플랫 없음).",
    logBiasSubtractedFromFlat: "플랫 프레임에서 바이어스(있을 경우) 차감: {flatFrameName}",

    biasFramesUploadTitle: '바이어스 프레임 (선택 사항)',
    biasFramesUploadDescription: '하나 이상의 바이어스 프레임(JPG/PNG/WEBP/FITS)을 업로드하세요. 평균내어 마스터 바이어스를 만들고, 카메라 읽기 노이즈를 나타냅니다. 사용 시 라이트, 다크, 플랫 프레임에서 차감됩니다. 비슷한 크기를 사용하세요.',
    useBiasFramesLabel: '바이어스 프레임 빼기 활성화',
    biasFramesPreviewTitle: '바이어스 프레임 미리보기 ({count}개)',
    biasFramesMissing: "바이어스 프레임 빼기가 활성화되었지만, 바이어스 프레임이 업로드되지 않았거나 로드에 실패했습니다.",
    biasFramesMissingTitle: "바이어스 프레임 없음",
    logLoadingBiasFrames: "{count}개의 바이어스 프레임 로드 중...",
    logMasterBiasCreated: "{count}개의 프레임으로 마스터 바이어스 프레임 생성됨.",
    logMasterBiasFailed: "마스터 바이어스 프레임 생성 실패 (유효한 바이어스 없음).",

    logDarkFrameLoaded: "다크 프레임 {fileName} 로드됨 ({width}x{height}).",
    logFlatFrameLoaded: "플랫 프레임 {fileName} 로드됨 ({width}x{height}).",
    logBiasFrameLoaded: "바이어스 프레임 {fileName} 로드됨 ({width}x{height}).",

    startLearningSession: "Start Learning Session",
    stopLearningSession: "Stop Learning Session",
    learningModeActiveIndicator: "LEARNING MODE ACTIVE",
    enterPinDialogTitle: "Enter PIN to Activate Learning Mode",
    enterPinDialogDesc: "Enter the designated PIN to start a learning session. This allows you to define reference star patterns.",
    pinPlaceholder: "PIN Code",
    submitPinButton: "Submit PIN",
    incorrectPinToastTitle: "Incorrect PIN",
    incorrectPinToastDesc: "The PIN you entered is incorrect. Learning mode not activated.",
    learningModeActivatedToastTitle: "Learning Mode Activated",
    learningModeActivatedToastDesc: "You can now define star patterns by editing stars on an image and confirming. Select patterns from the list to use them for stacking or testing.",
    learningModeDeactivatedToastTitle: "Learning Mode Deactivated",
    learningModeDeactivatedToastDesc: "The current learning session has ended. Learned patterns remain stored locally.",
    starPatternFirstLearnedToastTitle: "Star Pattern Learned!",
    starPatternFirstLearnedToastDesc: "Pattern & characteristics from '{fileName}' ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. It has been added to your list and stored locally.",
    starPatternOverwrittenToastTitle: "Learned Star Pattern Updated!",
    starPatternOverwrittenToastDesc: "Existing pattern for '{fileName}' updated. New pattern & characteristics ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. Stored locally.",

    noPatternLearnedYetInfo: "No star pattern has been learned. Edit stars on an image and confirm to create one.",
    patternStoredButModeOffInfo: "{count} pattern(s) stored locally. Activate Learning Mode to use or manage them.",
    selectedPatternsTitle: "Selected Patterns for Stacking ({count})",
    avgBrightnessLabel: "Avg Brightness",
    avgContrastLabel: "Avg Contrast",
    avgFwhmLabel: "Avg FWHM",
    learningModeCardTitle: "Pattern Learning Mode",
    learningModeCardDescription: "Activate to manually teach the system reference star patterns for improved alignment. Patterns are stored in your browser. Select patterns using checkboxes to apply them during stacking.",
    allLearnedPatternsListTitle: "Stored Patterns",
    selectPatternCheckboxLabel: "Select pattern from {fileName} for stacking/testing",
    deletePatternButtonText: "Delete",
    clearAllLearnedPatternsButton: "Clear ALL Learned Patterns",
    patternDeletedToastTitle: "Pattern Deleted",
    patternDeletedToastDesc: "Pattern from '{fileName}' has been deleted.",
    allPatternsClearedToastTitle: "All Patterns Cleared",
    allPatternsClearedToastDesc: "All learned star patterns have been removed from local storage.",
    noActivePatternSelectedInfo: "No patterns are currently selected. Check boxes in the list below to select patterns for alignment guidance or for testing.",
    learnedDateLabel: "Learned: {date}",

    learnTestCardTitle: "Learn Test Module",
    learnTestCardDescription: "Upload an image here to see which stars are recognized based on a *single selected* learned pattern's characteristics.",
    uploadTestImageButton: "Upload Test Image",
    runPatternTestButton: "Run Pattern Test",
    analyzingTestImageProgress: "Analyzing test image with learned pattern...",
    noActivePatternForTestToastTitle: "No Pattern Selected for Test",
    noActivePatternForTestToastDesc: "Please select exactly one learned pattern from the list above to run a test.",
    learnTestSelectSinglePatternTitle: "Select One Pattern for Test",
    learnTestSelectSinglePatternDesc: "'저장된 패턴' 목록에서 이 테스트에 사용할 패턴을 정확히 하나 선택해주세요.",
    noTestImageToastTitle: "No Test Image",
    noTestImageToastDesc: "Please upload an image to test the learned pattern on.",
    testAnalysisCompleteToastTitle: "Learn Test Complete",
    testAnalysisCompleteToastDesc: "{count} stars on '{fileName}' matched the selected learned pattern.",
    testAnalysisNoStarsFoundToastDesc: "No stars on '{fileName}' matched the selected learned pattern well enough.",
    testImagePreviewTitle: "Test Image: {fileName}",
    recognizedStarsCount: "{count} stars recognized by pattern",

    tutorialButton: "사용법",
    tutorialTitle: "AstroStacker 사용 방법",
    tutorialStep1Title: "1단계: 라이트 프레임 업로드",
    tutorialStep1Content: "'여기에 이미지 끌어다 놓기' 영역을 클릭하거나 주 천체 사진('라이트')을 그곳으로 끌어다 놓으십시오. 이것은 대상의 주요 이미지입니다. 한 번에 여러 파일을 업로드할 수 있습니다. 업로드 후 앱은 각 이미지를 자동으로 분석하여 별을 감지합니다.",
    tutorialStep2Title: "2단계: (선택) 수동 별 선택",
    tutorialStep2Content: "최고의 정렬 정확도를 위해 수동으로 프로세스를 안내할 수 있습니다. 대기열의 첫 번째 이미지는 '참조 이미지'입니다. '별 선택'을 클릭하십시오. 주 미리보기 창에서 이제 별 근처를 클릭하여 정렬을 위해 수동으로 선택할 수 있습니다. 빨간색 원이 나타납니다. 최소 2개의 별이 필요합니다. 이것은 앱에 정렬에 사용할 지점을 정확히 알려줍니다.",
    tutorialStep3Title: "3단계: 스태킹 옵션 선택",
    tutorialStep3Content: "왼쪽 패널에서 이미지를 쌓는 방법을 구성할 수 있습니다. '스태킹 모드'(평균, 중앙값, 시그마 클립)는 픽셀 값이 결합되는 방식을 결정합니다. '출력 형식'을 사용하면 PNG(무손실)와 JPG(파일 크기 작음) 중에서 선택할 수 있습니다.",
    tutorialStep4Title: "4단계: 이미지 스태킹",
    tutorialStep4Content: "이미지를 업로드하고 설정에 만족하면 '이미지 스태킹' 버튼을 클릭하십시오. 앱은 각 이미지를 참조 프레임에 정렬한 다음 결합합니다. 진행률 표시줄에 상태가 표시됩니다.",
    tutorialStep5Title: "5단계: 후처리 및 다운로드",
    tutorialStep5Content: "스태킹이 완료되면 최종 이미지가 나타납니다. '이미지 확정 및 다운로드'를 클릭하여 후처리 편집기를 엽니다. 여기에서 밝기, 노출 및 채도를 조정하여 이미지를 향상시킬 수 있습니다. 만족스러우면 '이미지 다운로드' 버튼을 클릭하여 결과를 컴퓨터에 저장하십시오."
  },
  zh: {
    appTitle: '天文图像叠加器 (AstroStacker)',
    uploadAndConfigure: '上传和配置图像',
    cardDescription: "添加 PNG, JPG, GIF, 或 WEBP 文件。使用星点图案传播算法对齐图像。为获得最佳效果，请在第一张图像上手动选择参考星点。",
    creditsLine1: '天文图像叠加器 © {year}',
    creditsLine2Part1: '由 Min Hong Seo (암흑광자) 在 천관사, Saturn, 구구, Flec, Latte, 얼음세상, 뉴비, 오르트, 지민, 모닥별, 배추빙수, 응애, Kangwoo 及许多其他人的宝贵帮助下创建。',
    switchToEnglish: '英',
    switchToKorean: '韩',
    switchToChinese: '中',
    stackImagesButton: '叠加图像 ({count})',
    stackingButtonInProgress: '叠加中...',
    finalizeAndDownload: '完成并下载图像',
    imageQueueCount: '图像队列 ({count})',
    stackingMode: '叠加模式',
    previewFit: '预览适应',
    fitContain: '适应内容',
    fitCover: '充满容器',
    outputFormat: '输出格式',
    jpgQuality: 'JPG 质量: {jpegQuality}%',
    editStarsFor: '编辑星点: {fileName}',
    editStarsDescription: '点击星点以添加/删除。当前: {starCount} 颗星。图像尺寸: {width}x{height}。',
    resetToAuto: '重置为自动',
    wipeAllStars: '清除所有星点',
    confirmAndClose: '确认并关闭',
    confirmAndNext: '确认并下一个',
    cancelEditing: '取消编辑',
    processingLogs: '处理日志',

    applyStarOptionsMenuTitle: '将星点选择应用于其他图像',
    applyStarOptionsMenuDesc: "您已为“{fileName}”({width}x{height}px) 设置了 {starCount} 颗星点。您希望如何将此选择应用于队列中的其他图像？",
    applyToMatchingDimensionsBtn: '应用于 {count} 张尺寸相同的图像',
    applyProportionallyBtn: '按比例应用于 {count} 张长宽比相似的图像',
    dontApplyToOthersBtn: '不应用于其他图像',

    toastStarsAppliedMatchingDimTitle: "星点已应用 (匹配尺寸)",
    toastStarsAppliedMatchingDimDesc: "所选星点已应用于其他具有匹配尺寸的图像。",
    toastProportionalApplySkippedTitle: "按比例应用已跳过",
    toastProportionalApplySkippedDesc: "源图像“{fileName}”未选择任何星点。按比例应用已跳过。",
    toastProportionalApplyDoneTitle: "星点已应用 (按比例)",
    toastProportionalApplyDoneDesc: "星点已按比例应用于具有相似长宽比的其他图像。",

    downscalePrompt: "图像 '{fileName}' ({width}x{height}px) 尺寸较大。将其缩小至最大 {maxSize}px (保持纵横比) 可以提高稳定性和速度。是否缩小？",
    stackingProgress: '叠加进度: {progressPercent}%',

    darkFramesUploadTitle: '暗场 (可选)',
    darkFramesUploadDescription: '上传一个或多个暗场文件 (JPG/PNG/WEBP/FITS)。它们将被平均为母版暗场，然后从每个亮场中减去以减少热噪声。确保尺寸相似。',
    useDarkFramesLabel: '启用暗场扣除',
    darkFramesPreviewTitle: '暗场预览 ({count})',
    darkFramesMissing: "已启用暗场扣除，但未上传暗场或加载失败。",
    darkFramesMissingTitle: "暗场缺失",
    logLoadingDarkFrames: "正在加载 {count} 个暗场...",
    logMasterDarkCreated: "已从 {count} 个帧创建母版暗场。",
    logMasterDarkFailed: "未能创建母版暗场 (未处理有效暗场)。",
    logBiasSubtractedFromDark: "已从暗场中减去偏置场 (如有): {darkFrameName}",

    flatFramesUploadTitle: '平场 (可选)',
    flatFramesUploadDescription: '上传一个或多个平场文件 (JPG/PNG/WEBP/FITS)。平均为母版平场，然后用于校正传感器灰尘、渐晕等。确保尺寸相似。',
    useFlatFramesLabel: '启用平场校正',
    flatFramesPreviewTitle: '平场预览 ({count})',
    flatFramesMissing: "已启用平场校正，但未上传平场或加载失败。",
    flatFramesMissingTitle: "平场缺失",
    logLoadingFlatFrames: "正在加载 {count} 个平场...",
    logMasterFlatCreated: "已从 {count} 个帧创建母版平场。",
    logMasterFlatFailed: "未能创建母版平场 (未处理有效平场)。",
    logBiasSubtractedFromFlat: "已从平场中减去偏置场 (如有): {flatFrameName}",

    biasFramesUploadTitle: '偏置场 (可选)',
    biasFramesUploadDescription: '上传一个或多个偏置场文件 (JPG/PNG/WEBP/FITS)。平均为母版偏置场，代表相机读出噪声。如果使用，将从亮场、暗场和平场中减去。确保尺寸相似。',
    useBiasFramesLabel: '启用偏置场扣除',
    biasFramesPreviewTitle: '偏置场预览 ({count})',
    biasFramesMissing: "已启用偏置场扣除，但未上传偏置场或加载失败。",
    biasFramesMissingTitle: "偏置场缺失",
    logLoadingBiasFrames: "正在加载 {count} 个偏置场...",
    logMasterBiasCreated: "已从 {count} 个帧创建母版偏置场。",
    logMasterBiasFailed: "未能创建母版偏置场 (未处理有效偏置场)。",

    logDarkFrameLoaded: "暗场 {fileName} 已加载 ({width}x{height})。",
    logFlatFrameLoaded: "平场 {fileName} 已加载 ({width}x{height})。",
    logBiasFrameLoaded: "偏置场 {fileName} 已加载 ({width}x{height})。",

    startLearningSession: "Start Learning Session",
    stopLearningSession: "Stop Learning Session",
    learningModeActiveIndicator: "LEARNING MODE ACTIVE",
    enterPinDialogTitle: "Enter PIN to Activate Learning Mode",
    enterPinDialogDesc: "Enter the designated PIN to start a learning session. This allows you to define reference star patterns.",
    pinPlaceholder: "PIN Code",
    submitPinButton: "Submit PIN",
    incorrectPinToastTitle: "Incorrect PIN",
    incorrectPinToastDesc: "The PIN you entered is incorrect. Learning mode not activated.",
    learningModeActivatedToastTitle: "Learning Mode Activated",
    learningModeActivatedToastDesc: "You can now define star patterns by editing stars on an image and confirming. Select patterns from the list to use them for stacking or testing.",
    learningModeDeactivatedToastTitle: "Learning Mode Deactivated",
    learningModeDeactivatedToastDesc: "The current learning session has ended. Learned patterns remain stored locally.",
    starPatternFirstLearnedToastTitle: "Star Pattern Learned!",
    starPatternFirstLearnedToastDesc: "Pattern & characteristics from '{fileName}' ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. It has been added to your list and stored locally.",
    starPatternOverwrittenToastTitle: "Learned Star Pattern Updated!",
    starPatternOverwrittenToastDesc: "Existing pattern for '{fileName}' updated. New pattern & characteristics ({starCount} stars; AvgBr: {avgBrightness}, AvgCo: {avgContrast}, AvgFw: {avgFwhm}) captured. Stored locally.",

    noPatternLearnedYetInfo: "No star pattern has been learned. Edit stars on an image and confirm to create one.",
    patternStoredButModeOffInfo: "{count} pattern(s) stored locally. Activate Learning Mode to use or manage them.",
    selectedPatternsTitle: "Selected Patterns for Stacking ({count})",
    avgBrightnessLabel: "Avg Brightness",
    avgContrastLabel: "Avg Contrast",
    avgFwhmLabel: "Avg FWHM",
    learningModeCardTitle: "Pattern Learning Mode",
    learningModeCardDescription: "Activate to manually teach the system reference star patterns for improved alignment. Patterns are stored in your browser. Select patterns using checkboxes to apply them during stacking.",
    allLearnedPatternsListTitle: "Stored Patterns",
    selectPatternCheckboxLabel: "Select pattern from {fileName} for stacking/testing",
    deletePatternButtonText: "Delete",
    clearAllLearnedPatternsButton: "Clear ALL Learned Patterns",
    patternDeletedToastTitle: "Pattern Deleted",
    patternDeletedToastDesc: "Pattern from '{fileName}' has been deleted.",
    allPatternsClearedToastTitle: "All Patterns Cleared",
    allPatternsClearedToastDesc: "All learned star patterns have been removed from local storage.",
    noActivePatternSelectedInfo: "No patterns are currently selected. Check boxes in the list below to select patterns for alignment guidance or for testing.",
    learnedDateLabel: "Learned: {date}",

    learnTestCardTitle: "Learn Test Module",
    learnTestCardDescription: "Upload an image here to see which stars are recognized based on a *single selected* learned pattern's characteristics.",
    uploadTestImageButton: "Upload Test Image",
    runPatternTestButton: "Run Pattern Test",
    analyzingTestImageProgress: "Analyzing test image with learned pattern...",
    noActivePatternForTestToastTitle: "No Pattern Selected for Test",
    noActivePatternForTestToastDesc: "Please select exactly one learned pattern from the list above to run a test.",
    learnTestSelectSinglePatternTitle: "Select One Pattern for Test",
    learnTestSelectSinglePatternDesc: "'저장된 패턴' 목록에서 이 테스트에 사용할 패턴을 정확히 하나 선택해주세요.",
    noTestImageToastTitle: "No Test Image",
    noTestImageToastDesc: "Please upload an image to test the learned pattern on.",
    testAnalysisCompleteToastTitle: "Learn Test Complete",
    testAnalysisCompleteToastDesc: "{count} stars on '{fileName}' matched the selected learned pattern.",
    testAnalysisNoStarsFoundToastDesc: "No stars on '{fileName}' matched the selected learned pattern well enough.",
    testImagePreviewTitle: "Test Image: {fileName}",
    recognizedStarsCount: "{count} stars recognized by pattern",

    tutorialButton: "教程",
    tutorialTitle: "如何使用天文图像叠加器",
    tutorialStep1Title: "第一步：上传亮场",
    tutorialStep1Content: "点击“在此处拖放图像”区域或将您的主要天文摄影图像（您的“亮场”）拖放到其中。这些是您目标天体的主要图像。您可以一次上传多个文件。上传后，应用程序将自动分析每个图像以检测星点。",
    tutorialStep2Title: "第二步：（可选）手动选择星点",
    tutorialStep2Content: "为获得最佳对齐精度，您可以手动指导该过程。队列中的第一张图像是“参考图像”。单击其上的“选择星点”。在主预览窗口中，您现在可以单击星点附近以手动选择它们进行对齐。将出现一个红色圆圈。至少需要两颗星。这会准确地告诉应用程序使用哪些点进行对齐。",
    tutorialStep3Title: "第三步：选择叠加选项",
    tutorialStep3Content: "在左侧面板上，您可以配置图像的叠加方式。“叠加模式”（平均、中位数、西格玛裁剪）决定了像素值的组合方式。“输出格式”让您可以在PNG（无损）和JPG（文件更小）之间进行选择。",
    tutorialStep4Title: "第四步：叠加图像",
    tutorialStep4Content: "上传图像并对设置满意后，单击“叠加图像”按钮。应用程序会将每个图像与您的参考帧对齐，然后将它们组合起来。进度条将显示状态。",
    tutorialStep5Title: "第五步：后期处理和下载",
    tutorialStep5Content: "叠加完成后，将显示最终图像。单击“完成并下载图像”以打开后期处理编辑器。在这里，您可以调整亮度、曝光和饱和度以增强图像。满意后，单击“下载图像”按钮将结果保存到您的计算机。"
  }
};

export const defaultLocale: Locale = 'en';

export const getTranslations = (locale: Locale) => translations[locale] || translations[defaultLocale];

    